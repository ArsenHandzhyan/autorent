15:39:59.472 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:39:59.475 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:40:00.024 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:40:05.407 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
15:40:05.462 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication using Java 17.0.14 with PID 21484 (C:\Users\Администратор\IdeaProjects\autorent\target\classes started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
15:40:05.462 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
15:40:05.462 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
15:40:06.895 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:40:07.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 14 JPA repository interfaces.
15:40:08.418 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
15:40:08.440 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:40:08.443 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:40:08.443 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
15:40:08.528 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:40:08.528 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2997 ms
15:40:08.914 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
15:40:09.069 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:40:09.179 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
15:40:09.227 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
15:40:09.467 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:40:09.513 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:40:11.086 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@115a7e51
15:40:11.092 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:40:11.227 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:40:11.228 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
15:40:12.610 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:40:16.153 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:40:16.674 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:40:17.592 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
15:40:17.592 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
15:40:17.892 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
15:40:18.060 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
15:40:18.098 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
15:40:18.753 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
15:40:18.861 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51ece47a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b8b0c78, org.springframework.security.web.context.SecurityContextHolderFilter@75927866, org.springframework.security.web.header.HeaderWriterFilter@1759a7dd, org.springframework.web.filter.CorsFilter@65993c30, org.springframework.security.web.csrf.CsrfFilter@14137240, org.springframework.security.web.authentication.logout.LogoutFilter@1b22a77c, ru.anapa.autorent.config.JwtRequestFilter@278fe428, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22d0b2d0, org.springframework.security.web.session.ConcurrentSessionFilter@6e37943b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17d96a31, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@172aa171, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@424e7ab8, org.springframework.security.web.session.SessionManagementFilter@647499bb, org.springframework.security.web.access.ExceptionTranslationFilter@6b6a3486, org.springframework.security.web.access.intercept.AuthorizationFilter@430c2875]
15:40:19.367 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:40:19.382 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
15:40:19.403 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 14.277 seconds (process running for 14.748)
15:40:19.617 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
15:40:19.687 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
15:40:19.738 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
15:40:19.784 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
15:40:19.886 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:40:19.991 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
15:40:20.087 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
15:40:20.097 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
15:40:20.133 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:40:20.173 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
15:40:20.227 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:20.320 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
15:40:20.414 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
15:40:20.514 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
15:40:20.604 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
15:40:20.700 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
15:40:20.787 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:40:21.061 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
15:40:21.690 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:40:21.690 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:40:21.692 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
15:40:21.704 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
15:40:21.721 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
15:40:21.722 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
15:40:21.727 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 8714173B174598E90B566214EC26E7E0
15:40:21.728 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /auth/login?logout
15:40:21.738 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login?logout
15:40:21.744 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
15:40:21.748 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login?logout
15:40:21.779 [http-nio-8080-exec-3] INFO  r.a.a.controller.AuthController - Login page requested
15:40:21.779 [http-nio-8080-exec-3] INFO  r.a.a.controller.AuthController - User logged out
15:40:22.263 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:40:22.266 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
15:40:22.267 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:40:22.287 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:40:22.291 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
15:40:22.292 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:40:26.533 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
15:40:26.789 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin61@example.com
15:40:26.796 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:40:26.884 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:26.985 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin61@example.com, роли: [ROLE_USER], enabled: true
15:40:27.001 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
15:40:27.353 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
15:40:27.378 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session F6A761688934AAC49DC0DD845890775E, for principal org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]]
15:40:27.378 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
15:40:27.379 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@15de7d6f]
15:40:27.379 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
15:40:27.383 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
15:40:27.383 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
15:40:27.389 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
15:40:27.494 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
15:40:27.590 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
15:40:27.679 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
15:40:27.781 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.description,
        i1_0.display_order,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
15:40:27.877 [http-nio-8080-exec-6] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
15:40:28.064 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
15:40:28.158 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.253 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.346 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.439 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.534 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.629 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.772 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.861 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:28.952 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:29.041 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:29.132 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:29.224 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:29.316 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:29.850 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
15:40:29.940 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
15:40:30.028 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:40:30.412 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:30.446 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:40:30.448 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:40:30.449 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/cars/5b0fee82-e47b-49ca-aba0-7a77a4492638_photo_2025-05-19_21-50-19.jpg
15:40:30.450 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:40:30.451 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:30.451 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:40:30.451 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/cars/5b0fee82-e47b-49ca-aba0-7a77a4492638_photo_2025-05-19_21-50-19.jpg
15:40:30.453 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:30.456 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:34.350 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /account/profile
15:40:34.353 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:34.353 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /account/profile
15:40:34.354 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:40:34.363 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:40:34.363 [http-nio-8080-exec-10] INFO  r.a.a.controller.AccountController - Отображение страницы профиля пользователя
15:40:34.363 [http-nio-8080-exec-10] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:40:34.364 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:40:34.541 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:40:34.720 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:40:34.811 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:40:35.258 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:40:35.346 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:40:35.440 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.amount,
        t1_0.created_at,
        t1_0.description,
        t1_0.type 
    from
        transactions t1_0 
    left join
        accounts a1_0 
            on a1_0.id=t1_0.account_id 
    where
        a1_0.id=? 
    order by
        t1_0.created_at desc
15:40:35.968 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:40:36.321 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ah1_0.id,
        ah1_0.account_id,
        ah1_0.change_date,
        ah1_0.change_reason,
        ah1_0.changed_by,
        ah1_0.field_name,
        ah1_0.new_value,
        ah1_0.old_value 
    from
        account_history ah1_0 
    where
        ah1_0.account_id=? 
    order by
        ah1_0.change_date desc
15:40:36.411 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:40:36.548 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:40:36.549 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:40:36.551 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:40:36.551 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:40:36.554 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:40:36.554 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:41:54.263 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /account/transactions
15:41:54.266 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:41:54.267 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /account/transactions
15:41:54.270 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.transactions(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:41:54.271 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.transactions(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:41:54.271 [http-nio-8080-exec-6] INFO  r.a.a.controller.AccountController - Отображение страницы истории счета
15:41:54.271 [http-nio-8080-exec-6] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:41:54.273 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:41:54.442 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:41:54.616 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:41:54.703 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:41:55.129 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:41:55.216 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:41:55.304 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.amount,
        t1_0.created_at,
        t1_0.description,
        t1_0.type 
    from
        transactions t1_0 
    left join
        accounts a1_0 
            on a1_0.id=t1_0.account_id 
    where
        a1_0.id=? 
    order by
        t1_0.created_at desc
15:41:55.806 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:41:56.149 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ah1_0.id,
        ah1_0.account_id,
        ah1_0.change_date,
        ah1_0.change_reason,
        ah1_0.changed_by,
        ah1_0.field_name,
        ah1_0.new_value,
        ah1_0.old_value 
    from
        account_history ah1_0 
    where
        ah1_0.account_id=? 
    order by
        ah1_0.change_date desc
15:41:56.236 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:41:56.357 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:41:56.358 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:41:56.360 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:41:56.361 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:41:56.366 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:41:56.371 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:43:37.762 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.778 [main] INFO  r.a.a.service.DailyPaymentService -  ID 1  .  : -1000.00
15:43:37.829 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.829 [main] INFO  r.a.a.service.DailyPaymentService -  ID 1  .  : -1000.00
15:43:37.838 [main] INFO  r.a.a.service.DailyPaymentService -    1   2025-06-22  
15:43:37.843 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.843 [main] WARN  r.a.a.service.DailyPaymentService -  ID 1  :    . : 2000.00 ?, : 3000.00 ?.          .
15:43:37.850 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.850 [main] INFO  r.a.a.service.DailyPaymentService -  ID 1  .  : 2000.00
15:43:37.857 [main] INFO  r.a.a.service.DailyPaymentService -    ID 1   1   0.00
15:43:37.867 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.867 [main] WARN  r.a.a.service.DailyPaymentService -  ID 1  :   . : 2000.00 ?, : 3000.00 ?
15:43:37.873 [main] INFO  r.a.a.service.DailyPaymentService -   ID 1   3000.00
15:43:37.873 [main] ERROR r.a.a.service.DailyPaymentService -     ID 1:  
15:43:39.800 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
15:43:39.807 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
15:43:40.347 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
15:43:47.144 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
15:43:47.231 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication using Java 17.0.14 with PID 17200 (C:\Users\Администратор\IdeaProjects\autorent\target\classes started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
15:43:47.231 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
15:43:47.231 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
15:43:48.764 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:43:48.940 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 154 ms. Found 14 JPA repository interfaces.
15:43:50.284 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
15:43:50.297 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
15:43:50.301 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
15:43:50.302 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
15:43:50.398 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
15:43:50.398 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3069 ms
15:43:50.735 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
15:43:50.927 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
15:43:51.010 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
15:43:51.079 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
15:43:51.352 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
15:43:51.400 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
15:43:53.130 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e343265
15:43:53.133 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
15:43:53.263 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:43:53.263 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
15:43:55.343 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:43:59.226 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
15:44:00.559 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
15:44:03.261 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
15:44:03.261 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
15:44:03.819 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
15:44:04.292 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
15:44:04.383 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
15:44:05.806 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
15:44:06.142 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2835de0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bcdbb5a, org.springframework.security.web.context.SecurityContextHolderFilter@1759a7dd, org.springframework.security.web.header.HeaderWriterFilter@3c81b47e, org.springframework.web.filter.CorsFilter@1c05de90, org.springframework.security.web.csrf.CsrfFilter@4e2d47c1, org.springframework.security.web.authentication.logout.LogoutFilter@7d7eabb2, ru.anapa.autorent.config.JwtRequestFilter@29c1249a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@33145371, org.springframework.security.web.session.ConcurrentSessionFilter@4913ac97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@647499bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14b59871, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@89beadb, org.springframework.security.web.session.SessionManagementFilter@7ad62f04, org.springframework.security.web.access.ExceptionTranslationFilter@2e4dbcd0, org.springframework.security.web.access.intercept.AuthorizationFilter@771b81af]
15:44:07.596 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
15:44:07.629 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
15:44:07.674 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 20.941 seconds (process running for 21.669)
15:44:07.955 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
15:44:08.306 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
15:44:08.318 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
15:44:08.468 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
15:44:08.521 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
15:44:08.522 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
15:44:08.527 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
15:44:08.596 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /account/transactions
15:44:08.641 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:08.668 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:08.681 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /account/transactions
15:44:08.716 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.transactions(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:08.743 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
15:44:08.881 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:44:08.884 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
15:44:08.896 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.transactions(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:08.896 [http-nio-8080-exec-1] INFO  r.a.a.controller.AccountController - Отображение страницы истории счета
15:44:08.897 [http-nio-8080-exec-1] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:44:08.901 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:44:09.009 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
15:44:09.020 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:09.079 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:09.113 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
15:44:09.123 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
15:44:09.230 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
15:44:09.255 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:09.342 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:09.365 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
15:44:09.467 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
15:44:09.581 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
15:44:09.680 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:09.765 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:09.852 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:09.947 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.amount,
        t1_0.created_at,
        t1_0.description,
        t1_0.type 
    from
        transactions t1_0 
    left join
        accounts a1_0 
            on a1_0.id=t1_0.account_id 
    where
        a1_0.id=? 
    order by
        t1_0.created_at desc
15:44:09.976 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
15:44:10.457 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:10.804 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ah1_0.id,
        ah1_0.account_id,
        ah1_0.change_date,
        ah1_0.change_reason,
        ah1_0.changed_by,
        ah1_0.field_name,
        ah1_0.new_value,
        ah1_0.old_value 
    from
        account_history ah1_0 
    where
        ah1_0.account_id=? 
    order by
        ah1_0.change_date desc
15:44:10.891 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:11.933 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:44:11.941 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:44:11.947 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:44:11.951 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:44:12.003 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:12.004 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:30.952 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /account/profile
15:44:30.964 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:30.966 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /account/profile
15:44:30.969 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:30.971 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:30.971 [http-nio-8080-exec-2] INFO  r.a.a.controller.AccountController - Отображение страницы профиля пользователя
15:44:30.971 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:44:30.974 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:44:31.170 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:31.368 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:31.468 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:31.861 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:31.958 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:32.439 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:32.537 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:32.648 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.amount,
        t1_0.created_at,
        t1_0.description,
        t1_0.type 
    from
        transactions t1_0 
    left join
        accounts a1_0 
            on a1_0.id=t1_0.account_id 
    where
        a1_0.id=? 
    order by
        t1_0.created_at desc
15:44:33.221 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:33.608 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ah1_0.id,
        ah1_0.account_id,
        ah1_0.change_date,
        ah1_0.change_reason,
        ah1_0.changed_by,
        ah1_0.field_name,
        ah1_0.new_value,
        ah1_0.old_value 
    from
        account_history ah1_0 
    where
        ah1_0.account_id=? 
    order by
        ah1_0.change_date desc
15:44:33.706 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:33.897 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:44:33.897 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:44:33.900 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:44:33.901 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:44:33.907 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:33.907 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:37.580 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /user/payments
15:44:37.592 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:37.594 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /user/payments
15:44:37.597 [http-nio-8080-exec-6] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:44:37.602 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:44:37.794 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:38.105 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.description,
        i1_0.display_order,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id 
    where
        r1_0.user_id=? 
        and r1_0.status='ACTIVE' 
    order by
        r1_0.created_at desc
15:44:38.208 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:38.603 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    left join
        rentals r1_0 
            on r1_0.id=dp1_0.rental_id 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    join
        accounts a1_0 
            on a1_0.id=dp1_0.account_id 
    where
        a1_0.user_id=? 
    order by
        dp1_0.payment_date desc
15:44:38.711 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:38.809 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:38.970 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:44:38.970 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:44:38.975 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:44:38.976 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:44:38.984 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:38.984 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:47.522 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /account/profile
15:44:47.526 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:47.527 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /account/profile
15:44:47.528 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:47.529 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AccountController.profile(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AccountController]
15:44:47.530 [http-nio-8080-exec-10] INFO  r.a.a.controller.AccountController - Отображение страницы профиля пользователя
15:44:47.530 [http-nio-8080-exec-10] DEBUG r.anapa.autorent.service.UserService - Поиск пользователя по email: admin61@example.com
15:44:47.533 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
15:44:47.726 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:47.924 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:48.022 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:48.409 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:48.509 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:48.995 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id 
    from
        accounts a1_0 
    left join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    where
        u1_0.id=?
15:44:49.094 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:44:49.197 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.amount,
        t1_0.created_at,
        t1_0.description,
        t1_0.type 
    from
        transactions t1_0 
    left join
        accounts a1_0 
            on a1_0.id=t1_0.account_id 
    where
        a1_0.id=? 
    order by
        t1_0.created_at desc
15:44:49.764 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:50.156 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ah1_0.id,
        ah1_0.account_id,
        ah1_0.change_date,
        ah1_0.change_reason,
        ah1_0.changed_by,
        ah1_0.field_name,
        ah1_0.new_value,
        ah1_0.old_value 
    from
        account_history ah1_0 
    where
        ah1_0.account_id=? 
    order by
        ah1_0.change_date desc
15:44:50.253 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
15:44:50.379 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:44:50.379 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:44:50.383 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:44:50.383 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:44:50.396 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:50.397 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:44:58.657 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
15:44:58.661 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
15:44:58.667 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
15:44:58.874 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
15:44:58.975 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
15:44:59.079 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
15:44:59.180 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.description,
        i1_0.display_order,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
15:44:59.283 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
15:44:59.475 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
15:44:59.572 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:59.671 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:59.770 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:59.869 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:44:59.966 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.065 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.162 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.262 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.358 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.461 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.616 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.719 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:00.820 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
15:45:01.397 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
15:45:01.494 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
15:45:01.590 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
15:45:01.996 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:45:02.049 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/cars/5b0fee82-e47b-49ca-aba0-7a77a4492638_photo_2025-05-19_21-50-19.jpg
15:45:02.049 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
15:45:02.049 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
15:45:02.051 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
15:45:02.051 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:45:02.052 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/cars/5b0fee82-e47b-49ca-aba0-7a77a4492638_photo_2025-05-19_21-50-19.jpg
15:45:02.053 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
15:45:02.055 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
15:45:02.059 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin61@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]]
