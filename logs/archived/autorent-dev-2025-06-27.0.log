01:19:46.533 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h23m34s9ms79µs200ns).
01:28:16.042 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
01:28:16.044 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
01:28:16.061 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
01:28:16.070 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
01:28:16.073 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
01:28:16.075 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
01:28:16.077 [http-nio-8080-exec-3] INFO  r.a.a.controller.AuthController - Login page requested
01:28:20.009 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
01:28:20.015 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
01:28:20.454 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
02:19:17.786 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:19:17.988 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 14688 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:19:17.989 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:19:17.991 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:19:20.870 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:19:21.075 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 15 JPA repository interfaces.
02:19:23.205 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:19:23.238 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:19:23.248 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:19:23.250 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:19:23.336 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:19:23.337 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5155 ms
02:19:23.824 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:19:24.101 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:19:24.218 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:19:24.265 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:19:24.666 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:19:24.685 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:19:26.420 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64b8eb96
02:19:26.422 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:19:26.666 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:19:28.695 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:19:32.879 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:19:33.565 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:19:34.796 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:19:34.797 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:19:35.369 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:19:35.685 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:19:35.781 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:19:36.688 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:19:36.879 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@592d034c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e3def9e, org.springframework.security.web.context.SecurityContextHolderFilter@4ecaf3cc, org.springframework.security.web.header.HeaderWriterFilter@51561b18, org.springframework.web.filter.CorsFilter@273cca1e, org.springframework.security.web.csrf.CsrfFilter@41fbbc4b, org.springframework.security.web.authentication.logout.LogoutFilter@54e1c058, ru.anapa.autorent.config.JwtRequestFilter@52cb52bd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3faa8fcd, org.springframework.security.web.session.ConcurrentSessionFilter@3066ad86, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45f668da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@153454d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c401907, org.springframework.security.web.session.SessionManagementFilter@3fb6d686, org.springframework.security.web.access.ExceptionTranslationFilter@9a68aa9, org.springframework.security.web.access.intercept.AuthorizationFilter@4d9fa6ba]
02:19:37.612 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:19:37.631 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:19:37.652 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 20.363 seconds (process running for 21.503)
02:19:37.873 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:19:37.959 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:19:38.073 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:19:38.089 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:19:38.199 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:19:38.333 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:19:38.440 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:19:38.453 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:19:38.527 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:19:38.540 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:19:38.619 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:19:38.717 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:19:38.719 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
02:19:38.722 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
02:19:38.907 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
02:19:39.449 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:19:40.499 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:19:41.031 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:19:41.632 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:19:41.989 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
02:19:41.989 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 5
02:19:41.990 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 5
02:19:41.990 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 5
02:19:41.990 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
02:19:41.991 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
02:19:41.991 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
02:19:41.991 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
02:19:42.088 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:19:42.189 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:19:42.280 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:19:42.382 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:19:42.475 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:19:42.746 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
02:19:42.752 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
02:19:42.753 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
02:19:42.931 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
02:19:43.027 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
02:19:43.125 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:19:43.226 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:19:43.593 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
02:19:43.594 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
02:19:43.594 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:19:43.594 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
02:19:43.595 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:19:43.595 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
02:19:43.604 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
02:19:43.704 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
02:19:43.797 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
02:19:43.799 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:19:43.800 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:19:43.803 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
02:19:43.804 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
02:19:43.805 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
02:19:43.808 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
02:19:43.809 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
02:19:43.810 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:19:43.819 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:19:43.909 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:19:43.910 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
02:19:43.912 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:19:43.917 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:19:44.008 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:19:44.010 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:19:44.012 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:19:44.118 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:19:44.121 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:20:36.332 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
02:20:36.334 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
02:20:36.337 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
02:20:36.393 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/statistics
02:20:36.457 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:36.562 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/statistics?continue to session
02:20:36.569 [http-nio-8080-exec-2] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
02:20:36.598 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:20:36.606 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:36.619 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:20:36.689 [http-nio-8080-exec-1] INFO  r.a.a.controller.AuthController - Login page requested
02:20:37.595 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:20:37.600 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.602 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:20:37.642 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:20:37.645 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.647 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:20:37.810 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
02:20:37.817 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.822 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
02:20:37.843 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:20:37.852 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.856 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:20:37.861 [http-nio-8080-exec-5] INFO  r.a.a.controller.AuthController - Login page requested
02:20:37.909 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
02:20:37.912 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.917 [http-nio-8080-exec-6] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
02:20:37.942 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:20:37.948 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:20:37.953 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:20:37.958 [http-nio-8080-exec-7] INFO  r.a.a.controller.AuthController - Login page requested
02:20:52.339 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:20:52.754 [http-nio-8080-exec-8] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:20:52.762 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:20:52.861 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:20:52.981 [http-nio-8080-exec-8] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:20:53.018 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:20:53.447 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:20:53.450 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 12E41073CD21FBD126BFE19818036B45
02:20:53.451 [http-nio-8080-exec-8] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 4501D173795A4B058753ECD415E8466A, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:20:53.453 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:20:53.455 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1143a029]
02:20:53.456 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]
02:20:53.470 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:20:53.477 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]]
02:20:53.479 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:20:53.481 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:20:53.511 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:20:53.706 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:20:54.287 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:20:54.445 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:20:54.449 [http-nio-8080-exec-10] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/auth/login
02:20:54.459 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:20:54.462 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:20:54.465 [http-nio-8080-exec-2] INFO  r.a.a.controller.AuthController - Login page requested
02:20:54.466 [http-nio-8080-exec-2] INFO  r.a.a.controller.AuthController - Admin login required message detected in session
02:20:54.499 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]]
02:20:54.535 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:20:54.537 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:20:54.549 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:20:54.549 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:20:54.570 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]]
02:20:54.572 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=12E41073CD21FBD126BFE19818036B45], Granted Authorities=[ROLE_ADMIN]]]
02:20:54.741 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:20:54.843 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:20:54.943 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:20:55.232 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:20:55.329 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:20:55.435 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:20:55.859 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:20:55.961 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:20:56.061 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:20:56.183 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:20:57.240 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:20:57.428 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:20:57.431 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:20:57.529 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:20:57.636 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:20:57.640 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:20:58.049 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:20:58.051 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy - Changed session id from 4501D173795A4B058753ECD415E8466A
02:20:58.052 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 58ABC87FBA0E339F38040E959A758E2E, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:20:58.053 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:20:58.058 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1143a029]
02:20:58.061 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]
02:20:58.074 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:20:58.077 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:20:58.101 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:20:58.103 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:20:58.106 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:20:58.304 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:20:58.880 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:20:59.295 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:20:59.402 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:20:59.503 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:20:59.796 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:20:59.896 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:20:59.997 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:21:00.393 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:21:00.494 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:21:00.596 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:21:00.713 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:21:00.855 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:21:00.855 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:21:00.861 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:21:00.862 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:21:00.884 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:00.884 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:06.105 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cars
02:21:06.108 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:06.109 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cars
02:21:06.111 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:21:06.114 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:21:06.410 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:21:06.552 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?) 
    order by
        ci1_0.display_order
02:21:07.625 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:21:07.625 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:21:07.629 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:21:07.629 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:21:07.640 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:07.641 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:07.682 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:21:07.690 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:21:07.713 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:21:08.613 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:21:08.732 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:11.755 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/add
02:21:11.757 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/add
02:21:11.760 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showAddCarForm(); target is of class [ru.anapa.autorent.controller.CarController]
02:21:11.763 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:11.766 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showAddCarForm(); target is of class [ru.anapa.autorent.controller.CarController]
02:21:11.925 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:21:11.925 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:21:11.930 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:21:11.930 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:21:11.943 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:21:11.943 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:24.008 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/add
02:22:24.227 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/add
02:22:24.365 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.addCar(ru.anapa.autorent.dto.CarDto,org.springframework.validation.BindingResult); target is of class [ru.anapa.autorent.controller.CarController]
02:22:24.367 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:24.369 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.addCar(ru.anapa.autorent.dto.CarDto,org.springframework.validation.BindingResult); target is of class [ru.anapa.autorent.controller.CarController]
02:22:24.575 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        cars
        (available, brand, category, color, daily_rate, description, fuel_type, license_plate, model, price_per_day, registration_number, schedule, seats, status, transmission, year) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:24.999 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        car_images
        (car_id, content_type, description, display_order, file_name, image_data, image_url, is_main, rotation) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:25.516 [http-nio-8080-exec-10] INFO  r.a.autorent.config.DataInitializer - Изображение сохранено в БД с ID: 16, размер: 326297 байт
02:22:25.809 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        car_images
        (car_id, content_type, description, display_order, file_name, image_data, image_url, is_main, rotation) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:25.981 [http-nio-8080-exec-10] INFO  r.a.autorent.config.DataInitializer - Изображение сохранено в БД с ID: 17, размер: 306166 байт
02:22:26.274 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        car_images
        (car_id, content_type, description, display_order, file_name, image_data, image_url, is_main, rotation) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:26.469 [http-nio-8080-exec-10] INFO  r.a.autorent.config.DataInitializer - Изображение сохранено в БД с ID: 18, размер: 287300 байт
02:22:26.767 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        car_images
        (car_id, content_type, description, display_order, file_name, image_data, image_url, is_main, rotation) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:26.949 [http-nio-8080-exec-10] INFO  r.a.autorent.config.DataInitializer - Изображение сохранено в БД с ID: 19, размер: 284740 байт
02:22:27.395 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        car_images
        (car_id, content_type, description, display_order, file_name, image_data, image_url, is_main, rotation) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
02:22:27.578 [http-nio-8080-exec-10] INFO  r.a.autorent.config.DataInitializer - Изображение сохранено в БД с ID: 20, размер: 229222 байт
02:22:27.874 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id 
    where
        c1_0.id=?
02:22:28.606 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.car_id,
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        rentals r1_0 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    left join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    where
        r1_0.car_id=?
02:22:28.716 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:22:28.938 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:22:29.128 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:22:29.307 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:22:29.534 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:22:29.996 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12?success=%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD
02:22:30.004 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12?success=%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD
02:22:30.204 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:30.593 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:22:33.296 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:33.593 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:33.976 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:22:35.572 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:35.697 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:22:35.810 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:22:36.135 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:36.539 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:22:38.916 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:22:39.020 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:22:39.122 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:22:39.123 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Car images count: 5
02:22:39.124 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:22:39.125 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:22:39.125 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:22:39.126 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:22:39.128 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:22:39.147 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.228 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:22:39.228 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/16
02:22:39.228 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/17
02:22:39.229 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:22:39.233 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/16
02:22:39.234 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:22:39.234 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/17
02:22:39.235 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:22:39.244 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:22:39.247 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:22:39.251 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.251 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.266 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/18
02:22:39.266 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/19
02:22:39.267 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/20
02:22:39.270 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/18
02:22:39.270 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/19
02:22:39.271 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/20
02:22:39.279 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:22:39.278 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:22:39.285 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:22:39.366 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.435 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.466 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.469 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:22:39.478 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:39.778 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars
02:24:39.779 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars
02:24:40.046 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:24:40.154 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:24:41.790 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:41.858 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:24:41.860 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:24:41.862 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:24:41.862 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:24:41.864 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:24:41.864 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:24:41.864 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:24:41.867 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:24:41.876 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:41.876 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:41.886 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:41.886 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:42.475 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:42.495 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:42.588 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:42.618 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:47.032 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/11
02:24:47.034 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/11
02:24:47.319 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:47.697 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:24:48.477 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:48.764 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:49.141 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:24:49.547 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:49.662 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:24:49.774 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:49.886 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:24:50.000 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:24:50.312 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:50.732 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:24:51.151 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:51.284 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:24:51.390 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:24:51.498 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:24:51.608 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Loading car details for ID: 11
02:24:51.609 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Car images count: 5
02:24:51.610 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Image: id=11, url=/images/car/1750809570975_photo_2025-05-19_21-50-48.jpg, main=true
02:24:51.611 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Image: id=12, url=/images/car/1750809572139_photo_2025-05-19_20-35-10.jpg, main=false
02:24:51.611 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Image: id=13, url=/images/car/1750809572743_photo_2025-05-19_21-50-34.jpg, main=false
02:24:51.612 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Image: id=14, url=/images/car/1750809573226_photo_2025-05-19_21-50-29.jpg, main=false
02:24:51.612 [http-nio-8080-exec-3] DEBUG r.a.a.controller.CarController - Image: id=15, url=/images/car/1750809573728_photo_2025-05-19_21-50-19.jpg, main=false
02:24:51.617 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.654 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/11
02:24:51.655 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/12
02:24:51.654 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:24:51.654 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:24:51.657 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/12
02:24:51.657 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/11
02:24:51.657 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:24:51.661 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:24:51.665 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:51.665 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:51.668 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.668 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.682 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/14
02:24:51.683 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/13
02:24:51.683 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/15
02:24:51.687 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/13
02:24:51.687 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/14
02:24:51.691 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/15
02:24:51.695 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:51.697 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:51.708 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:24:51.768 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.865 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.898 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.898 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:24:51.916 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4501D173795A4B058753ECD415E8466A], Granted Authorities=[ROLE_ADMIN]]]
02:30:00.012 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:30:00.014 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:30:00.018 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:30:00.211 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:30:00.212 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:30:00.213 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Обработка всех необработанных платежей завершена успешно
02:36:43.341 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:36:43.497 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 16744 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:36:43.498 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:36:43.502 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:36:45.368 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:36:45.545 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 15 JPA repository interfaces.
02:36:47.161 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:36:47.187 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:36:47.193 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:36:47.194 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:36:47.300 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:36:47.302 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3656 ms
02:36:47.727 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:36:47.983 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:36:48.128 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:36:48.193 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:36:48.519 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:36:48.548 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:36:50.250 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49bc71b4
02:36:50.254 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:36:50.674 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:36:52.005 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:36:55.605 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:36:56.371 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:36:57.829 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:36:57.830 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:36:58.269 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:36:58.472 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:36:58.527 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:36:59.377 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:36:59.559 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@309b7b53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2652d759, org.springframework.security.web.context.SecurityContextHolderFilter@76b7ce27, org.springframework.security.web.header.HeaderWriterFilter@99de3d8, org.springframework.web.filter.CorsFilter@51251be3, org.springframework.security.web.csrf.CsrfFilter@13171215, org.springframework.security.web.authentication.logout.LogoutFilter@5e3b689a, ru.anapa.autorent.config.JwtRequestFilter@2d2fc130, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1892f2ad, org.springframework.security.web.session.ConcurrentSessionFilter@77b7a383, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10c75f1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b1a2d0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70a56d5d, org.springframework.security.web.session.SessionManagementFilter@4efccce1, org.springframework.security.web.access.ExceptionTranslationFilter@babafb5, org.springframework.security.web.access.intercept.AuthorizationFilter@4fd9603f]
02:37:00.334 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:37:00.352 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:37:00.371 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 17.455 seconds (process running for 18.285)
02:37:00.583 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:37:00.753 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:37:00.753 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:37:00.878 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:00.878 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:37:00.989 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:37:01.002 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:37:01.115 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:37:01.115 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:37:01.211 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:37:01.212 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:37:01.302 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:37:01.315 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:37:01.585 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
02:37:01.781 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:37:02.140 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:37:02.210 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:37:02.311 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:37:02.403 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:37:02.404 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
02:37:02.405 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
02:37:02.584 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
02:37:03.114 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:37:04.071 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:04.167 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:04.746 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:37:07.537 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:07.643 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:08.022 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
02:37:08.024 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
02:37:08.025 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
02:37:08.026 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
02:37:08.026 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
02:37:08.027 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
02:37:08.028 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
02:37:08.029 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
02:37:08.031 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
02:37:08.034 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
02:37:08.233 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
02:37:08.335 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
02:37:08.439 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:37:08.549 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:37:08.943 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
02:37:08.947 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
02:37:08.948 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:37:08.948 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
02:37:08.948 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:37:08.949 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
02:37:08.964 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
02:37:09.071 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
02:37:09.172 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
02:37:09.174 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:37:09.174 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:37:09.174 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
02:37:09.175 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
02:37:09.175 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
02:37:09.176 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
02:37:09.177 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
02:37:09.178 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:37:09.184 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:37:09.284 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:37:09.285 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
02:37:09.286 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:37:09.289 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:37:09.388 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:37:09.390 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:37:09.393 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:37:09.484 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:37:09.486 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:37:35.047 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
02:37:35.048 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
02:37:35.049 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
02:37:35.092 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/11
02:37:35.115 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:35.116 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:35.124 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/11
02:37:35.410 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:35.759 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:37:40.677 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:41.004 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:41.358 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:37:43.805 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:43.953 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:37:44.045 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:44.137 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:37:44.235 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:37:44.500 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:44.853 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:37:46.696 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:46.801 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:37:46.897 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:37:46.994 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:37:47.093 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Loading car details for ID: 11
02:37:47.096 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Car images count: 5
02:37:47.098 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=11, url=/images/car/1750809570975_photo_2025-05-19_21-50-48.jpg, main=true
02:37:47.099 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=12, url=/images/car/1750809572139_photo_2025-05-19_20-35-10.jpg, main=false
02:37:47.099 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=13, url=/images/car/1750809572743_photo_2025-05-19_21-50-34.jpg, main=false
02:37:47.100 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=14, url=/images/car/1750809573226_photo_2025-05-19_21-50-29.jpg, main=false
02:37:47.101 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=15, url=/images/car/1750809573728_photo_2025-05-19_21-50-19.jpg, main=false
02:37:47.208 [http-nio-8080-exec-1] ERROR r.a.a.controller.CarController - Ошибка при преобразовании периодов в JSON: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.ArrayList[0]->ru.anapa.autorent.dto.RentalPeriodDto["startDate"])
02:37:48.164 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/12
02:37:48.164 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/11
02:37:48.166 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.166 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.167 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.167 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.168 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:37:48.170 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/12
02:37:48.170 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/11
02:37:48.173 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.174 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.178 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:37:48.184 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:37:48.184 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:37:48.252 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/13
02:37:48.255 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/15
02:37:48.255 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:37:48.257 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/14
02:37:48.271 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.272 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.272 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.276 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.276 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.276 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.285 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:37:48.285 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/13
02:37:48.285 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:37:48.286 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:37:48.288 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/15
02:37:48.302 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/14
02:37:48.307 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:37:48.317 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:37:48.318 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:33.665 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:38:33.669 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:38:33.670 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:38:33.672 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:38:33.685 [http-nio-8080-exec-9] INFO  r.a.a.controller.AuthController - Login page requested
02:38:33.780 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:38:33.782 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:38:33.789 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:38:33.789 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:38:33.791 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:38:33.792 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 58ABC87FBA0E339F38040E959A758E2E
02:38:33.796 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:38:33.796 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:38:35.757 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:38:36.145 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:38:36.152 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:38:36.247 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:38:36.354 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:38:36.394 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:38:36.780 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:38:36.820 [http-nio-8080-exec-2] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session C25CBEDD223908698F4A5B745455C271, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:38:36.829 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:38:36.833 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@14969110]
02:38:36.835 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
02:38:36.846 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:38:36.850 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:36.862 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:38:36.866 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:38:36.880 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:38:37.061 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:38:37.585 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:38:37.970 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:38:38.063 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:38:38.162 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:38:38.429 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:38:38.517 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:38.612 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:38:38.977 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:38:39.068 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:39.160 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:38:39.260 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:38:39.409 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:38:39.409 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:38:39.412 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:38:39.413 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:38:39.422 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:39.433 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:42.221 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cars
02:38:42.223 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:42.225 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cars
02:38:42.227 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:38:42.229 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:38:42.493 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:38:42.591 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:38:44.085 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:38:44.085 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:38:44.089 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:38:44.091 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:38:44.099 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:44.100 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:44.138 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:38:44.138 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:38:44.148 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:38:44.148 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:38:44.162 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:44.162 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:44.723 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:44.797 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:44.850 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:44.903 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:46.167 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/11
02:38:46.172 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/11
02:38:46.456 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:46.812 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:38:48.126 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:48.403 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:48.795 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:38:49.597 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:49.709 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:38:49.809 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:38:49.908 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:38:50.005 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Loading car details for ID: 11
02:38:50.006 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Car images count: 5
02:38:50.006 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=11, url=/images/car/1750809570975_photo_2025-05-19_21-50-48.jpg, main=true
02:38:50.008 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=12, url=/images/car/1750809572139_photo_2025-05-19_20-35-10.jpg, main=false
02:38:50.009 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=13, url=/images/car/1750809572743_photo_2025-05-19_21-50-34.jpg, main=false
02:38:50.010 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=14, url=/images/car/1750809573226_photo_2025-05-19_21-50-29.jpg, main=false
02:38:50.011 [http-nio-8080-exec-10] DEBUG r.a.a.controller.CarController - Image: id=15, url=/images/car/1750809573728_photo_2025-05-19_21-50-19.jpg, main=false
02:38:50.024 [http-nio-8080-exec-10] ERROR r.a.a.controller.CarController - Ошибка при преобразовании периодов в JSON: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.ArrayList[0]->ru.anapa.autorent.dto.RentalPeriodDto["startDate"])
02:38:50.037 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.090 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:38:50.092 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:38:50.092 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/12
02:38:50.092 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/11
02:38:50.098 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/11
02:38:50.098 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:38:50.100 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:38:50.100 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/12
02:38:50.118 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.118 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:50.119 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:50.129 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/14
02:38:50.131 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.136 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/15
02:38:50.139 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/15
02:38:50.146 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/14
02:38:50.149 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/13
02:38:50.157 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/13
02:38:50.161 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:50.161 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:50.170 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:38:50.264 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.317 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.317 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.364 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:38:50.389 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:20.181 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars
02:39:20.184 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars
02:39:20.452 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:39:20.543 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:39:21.705 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:21.729 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:39:21.729 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:39:21.729 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:39:21.729 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:39:21.730 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:39:21.730 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:39:21.730 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:39:21.731 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:39:21.739 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:21.739 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:21.740 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:21.740 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:22.291 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:22.333 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:22.396 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:22.444 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:35.581 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
02:39:35.583 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
02:39:35.842 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:36.196 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:39:37.007 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:37.297 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:37.654 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:39:38.120 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:38.217 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:39:38.324 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:39:38.620 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:39.014 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:39:39.463 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:39:39.594 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:39:39.693 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:39:39.694 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Car images count: 5
02:39:39.695 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:39:39.696 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:39:39.696 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:39:39.698 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:39:39.700 [http-nio-8080-exec-1] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:39:39.716 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:39.764 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:39:39.764 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/17
02:39:39.764 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/16
02:39:39.764 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:39:39.771 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:39:39.771 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/16
02:39:39.771 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/17
02:39:39.771 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:39:39.784 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:39.784 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:39.791 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:39.791 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:39.805 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/18
02:39:39.805 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/19
02:39:39.807 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/20
02:39:39.814 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/18
02:39:39.814 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/19
02:39:39.814 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/20
02:39:39.824 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:39.824 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:39.827 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:39:39.927 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:39.997 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:39.997 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:40.029 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:39:40.029 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:35.123 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars
02:40:35.125 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars
02:40:35.416 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:40:35.518 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:40:37.227 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:37.267 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:40:37.268 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:40:37.268 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:40:37.268 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:40:37.275 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:40:37.275 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:40:37.275 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:40:37.276 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:40:37.282 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:40:37.282 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:40:37.288 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:37.290 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:37.824 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:40:37.851 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:40:37.931 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:37.967 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:44.071 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /about
02:40:44.073 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /about
02:40:44.085 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:44.110 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:40:44.110 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:40:44.114 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:40:44.115 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:40:44.125 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:40:44.126 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:41:51.016 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
02:41:51.027 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
02:41:51.051 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
02:41:51.242 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
02:41:51.344 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
02:41:51.440 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
02:41:51.545 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
02:41:52.551 [http-nio-8080-exec-4] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
02:41:52.754 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
02:41:52.860 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:52.963 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.067 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.177 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.280 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.382 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.485 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.593 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.695 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.799 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:53.900 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:54.001 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:54.101 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:41:54.698 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:41:54.800 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:41:54.904 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:41:55.351 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:41:55.422 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:41:55.422 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:41:55.432 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:41:55.433 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:41:55.449 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:41:55.447 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:41:55.463 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:41:55.465 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:41:55.475 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:41:55.476 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:41:55.491 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:41:55.496 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:41:56.046 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:41:56.068 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:41:56.158 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:41:56.187 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:46:48.867 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:46:49.013 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 5440 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:46:49.015 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:46:49.017 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:46:50.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:46:51.014 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 15 JPA repository interfaces.
02:46:52.595 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:46:52.640 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:46:52.644 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:46:52.644 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:46:52.770 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:46:52.770 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3614 ms
02:46:53.196 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:46:53.469 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:46:53.588 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:46:53.630 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:46:54.099 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:46:54.178 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:46:56.087 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54c3e686
02:46:56.090 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:46:56.332 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:46:57.703 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:47:01.448 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:47:02.039 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:47:03.415 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:47:03.416 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:47:03.941 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:47:04.184 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:47:04.242 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:47:05.180 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:47:05.333 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e1f3e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65aa0c39, org.springframework.security.web.context.SecurityContextHolderFilter@59e9bb43, org.springframework.security.web.header.HeaderWriterFilter@76b7ce27, org.springframework.web.filter.CorsFilter@518125dc, org.springframework.security.web.csrf.CsrfFilter@5f9d3999, org.springframework.security.web.authentication.logout.LogoutFilter@7c4e22d8, ru.anapa.autorent.config.JwtRequestFilter@2905b568, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43fb1f3c, org.springframework.security.web.session.ConcurrentSessionFilter@20df0381, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57dad28b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74bd894b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d82339e, org.springframework.security.web.session.SessionManagementFilter@10c75f1e, org.springframework.security.web.access.ExceptionTranslationFilter@1600e2c0, org.springframework.security.web.access.intercept.AuthorizationFilter@37f2f6b8]
02:47:06.162 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:47:06.184 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:47:06.203 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 17.778 seconds (process running for 18.66)
02:47:06.411 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:47:06.499 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:47:06.599 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:06.633 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:47:06.713 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:06.828 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:47:06.924 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:47:06.994 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:47:07.013 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:47:07.043 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:47:07.143 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:07.236 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:47:07.239 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
02:47:07.240 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
02:47:07.434 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
02:47:07.968 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:47:08.934 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:09.030 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:09.588 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:47:12.194 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
02:47:12.195 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
02:47:12.197 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
02:47:12.231 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
02:47:12.255 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:12.255 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:12.264 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
02:47:12.291 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
02:47:12.497 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
02:47:12.592 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
02:47:12.604 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:12.693 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
02:47:12.706 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:12.801 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
02:47:13.101 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
02:47:13.103 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
02:47:13.104 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
02:47:13.105 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
02:47:13.106 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
02:47:13.107 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
02:47:13.110 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
02:47:13.110 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
02:47:13.211 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:47:13.316 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:47:13.408 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:47:13.516 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:47:13.608 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:13.613 [http-nio-8080-exec-1] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
02:47:13.713 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:47:13.806 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
02:47:13.904 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:13.993 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
02:47:13.994 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:13.994 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
02:47:13.995 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
02:47:14.092 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.192 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
02:47:14.192 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.295 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
02:47:14.295 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.395 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.395 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:47:14.495 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.507 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:47:14.599 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.704 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.800 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.903 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:14.915 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
02:47:14.919 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
02:47:14.920 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:47:14.921 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
02:47:14.922 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:47:14.922 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
02:47:14.935 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
02:47:15.006 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:15.046 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
02:47:15.109 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:15.146 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
02:47:15.147 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:47:15.148 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:47:15.148 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
02:47:15.149 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
02:47:15.149 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
02:47:15.155 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
02:47:15.157 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
02:47:15.159 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:47:15.165 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:47:15.269 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:47:15.271 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
02:47:15.272 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:47:15.276 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:47:15.376 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:47:15.379 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:47:15.385 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:47:15.485 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:47:15.485 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:47:15.671 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:47:15.772 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:15.871 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:17.139 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:17.139 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:17.143 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:17.143 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:17.143 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:17.144 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:17.145 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:17.148 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:17.148 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:17.148 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:17.151 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:17.155 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:17.214 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:17.214 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:17.255 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:17.261 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:17.262 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:17.266 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:17.433 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:17.774 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:19.808 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:47:19.814 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:19.816 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:19.824 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:47:19.839 [http-nio-8080-exec-4] INFO  r.a.a.controller.AuthController - Login page requested
02:47:19.926 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:19.926 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:19.931 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:19.933 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:47:19.933 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:19.934 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id C25CBEDD223908698F4A5B745455C271
02:47:19.940 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:19.939 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:21.773 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:47:22.147 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:47:22.152 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:47:22.241 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:47:22.346 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:47:22.388 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:47:22.769 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:47:22.819 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D75790A4B73E8E4FE799A091DB1ED236, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:47:22.827 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:47:22.830 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@43060d7f]
02:47:22.832 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
02:47:22.839 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:47:22.844 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:22.851 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:47:22.856 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:47:22.868 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:47:23.048 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:47:23.583 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:47:23.956 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:47:24.052 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:47:24.144 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:47:24.409 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:47:24.503 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:24.596 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:24.959 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:47:25.052 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:25.151 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:25.250 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:47:25.525 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:25.522 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:25.528 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:25.535 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:25.573 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:25.590 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:28.617 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cars
02:47:28.620 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:28.623 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cars
02:47:28.626 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:47:28.628 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:47:28.899 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:47:29.002 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:47:30.315 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:30.316 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:30.317 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:30.318 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:30.327 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:30.328 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:30.366 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:30.367 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:30.378 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:30.377 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:30.394 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:30.394 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:30.724 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:30.831 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:30.970 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:31.085 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:33.092 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/11
02:47:33.094 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/11
02:47:33.368 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:33.725 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:34.456 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:34.739 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:35.091 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:35.498 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:35.612 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:47:35.715 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:35.815 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:35.926 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:47:36.231 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:36.622 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:37.016 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:37.140 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:47:37.243 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:37.344 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:47:37.451 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Loading car details for ID: 11
02:47:37.453 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car images count: 5
02:47:37.454 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=11, url=/images/car/1750809570975_photo_2025-05-19_21-50-48.jpg, main=true
02:47:37.455 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=12, url=/images/car/1750809572139_photo_2025-05-19_20-35-10.jpg, main=false
02:47:37.456 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=13, url=/images/car/1750809572743_photo_2025-05-19_21-50-34.jpg, main=false
02:47:37.457 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=14, url=/images/car/1750809573226_photo_2025-05-19_21-50-29.jpg, main=false
02:47:37.457 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=15, url=/images/car/1750809573728_photo_2025-05-19_21-50-19.jpg, main=false
02:47:37.574 [http-nio-8080-exec-7] ERROR r.a.a.controller.CarController - Ошибка при преобразовании периодов в JSON: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.ArrayList[0]->ru.anapa.autorent.dto.RentalPeriodDto["startDate"])
02:47:37.588 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:37.679 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:37.678 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:37.679 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:37.680 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809572139_photo_2025-05-19_20-35-10.jpg
02:47:37.682 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:37.682 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:37.682 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:47:37.688 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809572139_photo_2025-05-19_20-35-10.jpg
02:47:37.711 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:37.712 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:37.713 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:37.716 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:37.727 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809572743_photo_2025-05-19_21-50-34.jpg
02:47:37.729 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809573226_photo_2025-05-19_21-50-29.jpg
02:47:37.729 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809573728_photo_2025-05-19_21-50-19.jpg
02:47:37.730 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809572743_photo_2025-05-19_21-50-34.jpg
02:47:37.730 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809573226_photo_2025-05-19_21-50-29.jpg
02:47:37.730 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809573728_photo_2025-05-19_21-50-19.jpg
02:47:37.739 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:37.739 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:37.745 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:37.900 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:38.007 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:38.265 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:38.266 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:38.290 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:38.346 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:38.383 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:38.387 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:38.399 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:38.462 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:53.765 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
02:47:53.768 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
02:47:54.032 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:54.384 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:55.104 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:55.378 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:55.726 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:56.104 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:56.201 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:47:56.295 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:47:56.585 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:56.981 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:47:57.420 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:57.537 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:47:57.638 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:47:57.639 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Car images count: 5
02:47:57.641 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:47:57.643 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:47:57.644 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:47:57.645 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:47:57.646 [http-nio-8080-exec-4] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:47:57.667 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:57.719 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:47:57.719 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:47:57.719 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:47:57.719 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:57.725 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:47:57.726 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:47:57.726 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:47:57.726 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:47:57.736 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:57.736 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:57.742 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:57.742 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:57.755 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:47:57.755 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:47:57.755 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:47:57.760 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:47:57.760 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:47:57.764 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:47:57.769 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:57.769 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:57.769 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:47:57.917 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:58.017 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:58.302 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:58.305 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:58.310 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:58.361 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:47:58.412 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:58.412 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:58.416 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:47:58.478 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:10.208 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12/edit
02:48:10.217 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:10.220 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12/edit
02:48:10.226 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showEditCarForm(java.lang.Long); target is of class [ru.anapa.autorent.controller.CarController]
02:48:10.230 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showEditCarForm(java.lang.Long); target is of class [ru.anapa.autorent.controller.CarController]
02:48:10.494 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:48:10.843 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:48:11.499 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:48:11.593 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car ID: 12
02:48:11.594 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car DTO: CarDto(id=12, brand=Лада, model=Гранта, year=2015, licensePlate=А123АА123, dailyRate=2000.00, newImages=null, existingImages=[CarImageDto(id=16, imageUrl=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, description=, displayOrder=0, main=true, rotation=0), CarImageDto(id=17, imageUrl=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, description=, displayOrder=1, main=false, rotation=0), CarImageDto(id=18, imageUrl=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, description=, displayOrder=2, main=false, rotation=0), CarImageDto(id=19, imageUrl=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, description=, displayOrder=3, main=false, rotation=0), CarImageDto(id=20, imageUrl=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, description=, displayOrder=4, main=false, rotation=0)], description=, available=true, transmission=MANUAL, fuelType=PETROL, seats=5, color=Белый, category=COMFORT, schedule=24/7)
02:48:11.613 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Existing images: [CarImageDto(id=16, imageUrl=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, description=, displayOrder=0, main=true, rotation=0), CarImageDto(id=17, imageUrl=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, description=, displayOrder=1, main=false, rotation=0), CarImageDto(id=18, imageUrl=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, description=, displayOrder=2, main=false, rotation=0), CarImageDto(id=19, imageUrl=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, description=, displayOrder=3, main=false, rotation=0), CarImageDto(id=20, imageUrl=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, description=, displayOrder=4, main=false, rotation=0)]
02:48:11.732 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:48:11.732 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:48:11.736 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:48:11.736 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:48:11.744 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.744 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.754 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/17
02:48:11.755 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/16
02:48:11.756 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/18
02:48:11.756 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/20
02:48:11.756 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/19
02:48:11.763 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/16
02:48:11.764 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/18
02:48:11.764 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/20
02:48:11.767 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/17
02:48:11.775 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/19
02:48:11.775 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:48:11.775 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:48:11.775 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:48:11.784 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:48:11.786 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:48:11.896 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.957 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.957 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.961 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:11.981 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:24.401 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/images/20/rotate?direction=right
02:48:24.401 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/images/20/rotate?direction=right
02:48:24.409 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:24.409 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:24.411 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/images/20/rotate?direction=right
02:48:24.411 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/images/20/rotate?direction=right
02:48:24.416 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:24.417 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:24.418 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:24.418 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:24.593 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        ci1_0.id=?
02:48:24.593 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        ci1_0.id=?
02:48:25.043 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:48:25.055 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:48:27.178 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/images/20/rotate?direction=right
02:48:27.178 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/images/20/rotate?direction=right
02:48:27.183 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:27.183 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:27.186 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/images/20/rotate?direction=right
02:48:27.186 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/images/20/rotate?direction=right
02:48:27.188 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:27.189 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:27.191 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:27.193 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.Map ru.anapa.autorent.controller.CarController.rotateCarImage(java.lang.Long,java.lang.String); target is of class [ru.anapa.autorent.controller.CarController]
02:48:27.372 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        ci1_0.id=?
02:48:27.389 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        ci1_0.id=?
02:48:27.821 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:48:27.881 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        car_images 
    set
        car_id=?,
        content_type=?,
        description=?,
        display_order=?,
        file_name=?,
        image_data=?,
        image_url=?,
        is_main=?,
        rotation=? 
    where
        id=?
02:48:55.907 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /cars/12/edit
02:48:56.046 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:48:56.047 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /cars/12/edit
02:48:56.128 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.updateCar(java.lang.Long,ru.anapa.autorent.dto.CarDto,java.lang.Long,java.util.Map,org.springframework.validation.BindingResult); target is of class [ru.anapa.autorent.controller.CarController]
02:48:56.129 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.updateCar(java.lang.Long,ru.anapa.autorent.dto.CarDto,java.lang.Long,java.util.Map,org.springframework.validation.BindingResult); target is of class [ru.anapa.autorent.controller.CarController]
02:48:56.389 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:48:56.738 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:48:57.393 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:48:57.580 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:48:57.675 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:49:00.174 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12?success=%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD
02:49:00.181 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12?success=%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD
02:49:00.361 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:00.717 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:49:02.169 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:02.472 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:02.856 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:49:04.360 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:04.465 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:49:04.559 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:49:04.559 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car images count: 5
02:49:04.560 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:49:04.561 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:49:04.561 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:49:04.562 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:49:04.563 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:49:04.573 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:04.639 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:49:04.640 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:49:04.640 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:49:04.642 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:49:04.647 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:49:04.651 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:49:04.655 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:49:04.658 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:49:04.671 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:49:04.672 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:04.674 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:04.677 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:49:04.691 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:49:04.692 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:49:04.693 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:49:04.699 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:49:04.699 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:49:04.699 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:49:04.706 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:49:04.706 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:49:04.707 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:49:05.124 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:05.223 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:05.235 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:05.247 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:05.307 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:05.327 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:49:05.339 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:05.350 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:05.409 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:49:05.440 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:50:23.415 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:50:23.603 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 11240 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:50:23.604 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:50:23.606 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:50:26.766 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:50:27.007 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 15 JPA repository interfaces.
02:50:29.936 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:50:29.964 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:50:29.971 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:50:29.971 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:50:30.069 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:50:30.069 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6226 ms
02:50:30.477 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:50:30.734 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:50:30.849 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:50:30.921 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:50:31.335 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:50:31.374 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:50:33.112 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55665086
02:50:33.116 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:50:33.399 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:50:35.005 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:50:38.966 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:50:39.437 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:50:39.676 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 2612 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:50:39.677 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:50:39.679 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:50:39.915 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:50:41.832 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:50:41.833 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:50:42.545 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:50:42.738 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:50:42.889 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:50:42.988 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:50:43.015 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 252 ms. Found 15 JPA repository interfaces.
02:50:44.595 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:50:45.047 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3066ad86, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e1f3e1, org.springframework.security.web.context.SecurityContextHolderFilter@4c0a2a2b, org.springframework.security.web.header.HeaderWriterFilter@673036e3, org.springframework.web.filter.CorsFilter@65aa0c39, org.springframework.security.web.csrf.CsrfFilter@414bb17a, org.springframework.security.web.authentication.logout.LogoutFilter@1a8f644c, ru.anapa.autorent.config.JwtRequestFilter@a5e8260, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a70e212, org.springframework.security.web.session.ConcurrentSessionFilter@55fd31ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@437d5a04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d394592, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@587c276c, org.springframework.security.web.session.SessionManagementFilter@584964c6, org.springframework.security.web.access.ExceptionTranslationFilter@11eb6744, org.springframework.security.web.access.intercept.AuthorizationFilter@3fb6d686]
02:50:46.956 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:50:47.020 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:50:47.043 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:50:47.044 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:50:47.145 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:50:47.194 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:50:47.252 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 24.44 seconds (process running for 25.582)
02:50:47.306 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:50:47.307 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7403 ms
02:50:47.507 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:50:47.827 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:50:47.942 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:50:47.970 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:50:48.087 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:50:48.109 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:50:48.270 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:50:48.353 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:50:48.375 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:50:48.442 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:50:48.478 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:50:48.511 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:50:48.553 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:50:48.656 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:50:48.691 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:50:48.757 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:50:48.794 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:50:48.873 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:50:48.975 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:50:49.083 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:50:49.185 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:50:49.291 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:50:49.335 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:50:49.394 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:50:49.580 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
02:50:49.584 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
02:50:49.585 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
02:50:49.781 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
02:50:50.366 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:50:51.051 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54c3e686
02:50:51.054 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:50:51.299 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:50:51.349 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:50:51.463 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:50:52.100 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:50:52.622 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:50:55.148 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:50:55.252 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:50:55.674 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
02:50:55.678 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
02:50:55.680 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
02:50:55.682 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
02:50:55.683 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
02:50:55.683 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
02:50:55.684 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
02:50:55.685 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
02:50:55.686 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
02:50:55.687 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
02:50:55.904 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
02:50:56.014 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
02:50:56.131 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:50:56.245 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:50:56.532 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:50:56.680 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
02:50:56.682 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
02:50:56.683 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:50:56.683 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
02:50:56.684 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:50:56.684 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
02:50:56.690 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
02:50:56.806 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
02:50:56.916 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
02:50:56.916 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:50:56.917 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:50:56.917 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
02:50:56.917 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
02:50:56.918 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
02:50:56.918 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
02:50:56.918 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
02:50:56.918 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:50:56.922 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:50:57.029 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:50:57.030 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
02:50:57.031 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:50:57.033 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:50:57.145 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:50:57.146 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:50:57.149 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:50:57.255 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:50:57.261 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:50:57.262 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:50:58.464 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:50:58.465 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:50:58.970 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:50:59.365 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:50:59.483 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:51:00.660 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:51:00.831 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@378c7bc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c9837e0, org.springframework.security.web.context.SecurityContextHolderFilter@510fb2d8, org.springframework.security.web.header.HeaderWriterFilter@7c52f2b1, org.springframework.web.filter.CorsFilter@51561b18, org.springframework.security.web.csrf.CsrfFilter@f1f48d6, org.springframework.security.web.authentication.logout.LogoutFilter@263a5cf2, ru.anapa.autorent.config.JwtRequestFilter@2905b568, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@309b7b53, org.springframework.security.web.session.ConcurrentSessionFilter@535d6165, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d9d6273, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20df0381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e59888e, org.springframework.security.web.session.SessionManagementFilter@3a1ecfdb, org.springframework.security.web.access.ExceptionTranslationFilter@4efccce1, org.springframework.security.web.access.intercept.AuthorizationFilter@167005fc]
02:51:01.551 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:51:01.565 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
02:51:01.573 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
02:51:01.580 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
02:51:03.708 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
02:51:03.732 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
02:51:03.761 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

02:51:09.345 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
02:51:09.346 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
02:51:09.347 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
02:51:09.380 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /rentals/new
02:51:09.415 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:51:09.417 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D75790A4B73E8E4FE799A091DB1ED236
02:51:09.429 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
02:51:09.446 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:51:09.447 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:51:09.448 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D75790A4B73E8E4FE799A091DB1ED236
02:51:09.450 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:51:09.480 [http-nio-8080-exec-6] INFO  r.a.a.controller.AuthController - Login page requested
02:51:09.921 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:51:09.928 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:51:09.929 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D75790A4B73E8E4FE799A091DB1ED236
02:51:09.934 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:51:09.956 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:51:09.962 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:51:09.963 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D75790A4B73E8E4FE799A091DB1ED236
02:51:09.975 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:51:12.108 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:51:12.549 [http-nio-8080-exec-8] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:51:12.559 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:51:12.658 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:51:12.780 [http-nio-8080-exec-8] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:51:12.838 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:51:13.278 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:51:13.323 [http-nio-8080-exec-8] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session B6967567C2390EF2B691F2B5CDE51E21, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:51:13.330 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:51:13.336 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4471d56e]
02:51:13.338 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
02:51:13.352 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:51:13.358 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:13.367 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:51:13.376 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:51:13.421 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:51:13.623 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:51:14.220 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:51:14.690 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:51:14.794 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:51:14.897 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:51:15.191 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:51:15.287 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:15.386 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:51:15.804 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:51:15.905 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:16.005 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:51:16.121 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:51:16.390 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:51:16.392 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:51:16.405 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:51:16.406 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:51:16.422 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:16.422 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:20.071 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cars
02:51:20.079 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:20.082 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cars
02:51:20.087 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:51:20.089 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
02:51:20.384 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:51:20.502 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:51:21.955 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:51:21.956 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:51:21.966 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:51:21.967 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:51:21.989 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:21.999 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:22.055 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:51:22.055 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:22.061 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:22.061 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:51:22.085 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:22.085 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:22.752 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:22.890 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:24.463 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:24.577 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:29.655 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12/edit
02:51:29.667 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:29.669 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12/edit
02:51:29.685 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showEditCarForm(java.lang.Long); target is of class [ru.anapa.autorent.controller.CarController]
02:51:29.834 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.CarController.showEditCarForm(java.lang.Long); target is of class [ru.anapa.autorent.controller.CarController]
02:51:30.138 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:30.531 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:51:31.264 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:31.371 [http-nio-8080-exec-5] DEBUG r.a.a.controller.CarController - Car ID: 12
02:51:31.373 [http-nio-8080-exec-5] DEBUG r.a.a.controller.CarController - Car DTO: CarDto(id=12, brand=Лада, model=Гранта, year=2015, licensePlate=А123АА123, dailyRate=2000.00, newImages=null, existingImages=[CarImageDto(id=16, imageUrl=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, description=, displayOrder=0, main=true, rotation=0), CarImageDto(id=17, imageUrl=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, description=, displayOrder=1, main=false, rotation=0), CarImageDto(id=18, imageUrl=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, description=, displayOrder=2, main=false, rotation=0), CarImageDto(id=19, imageUrl=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, description=, displayOrder=3, main=false, rotation=0), CarImageDto(id=20, imageUrl=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, description=, displayOrder=4, main=false, rotation=180)], description=, available=true, transmission=MANUAL, fuelType=PETROL, seats=5, color=Белый, category=COMFORT, schedule=24/7)
02:51:31.465 [http-nio-8080-exec-5] DEBUG r.a.a.controller.CarController - Existing images: [CarImageDto(id=16, imageUrl=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, description=, displayOrder=0, main=true, rotation=0), CarImageDto(id=17, imageUrl=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, description=, displayOrder=1, main=false, rotation=0), CarImageDto(id=18, imageUrl=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, description=, displayOrder=2, main=false, rotation=0), CarImageDto(id=19, imageUrl=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, description=, displayOrder=3, main=false, rotation=0), CarImageDto(id=20, imageUrl=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, description=, displayOrder=4, main=false, rotation=180)]
02:51:31.731 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:51:31.732 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:51:31.736 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:51:31.740 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:51:31.748 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:31.748 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:31.748 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:51:31.751 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:31.765 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:31.769 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:51:31.777 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:51:31.797 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:51:31.799 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:51:31.799 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:31.811 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:31.811 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:51:31.814 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:31.827 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:31.842 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:51:31.847 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:51:31.864 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:32.009 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:32.122 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:32.369 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:32.393 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:32.444 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:32.486 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:32.502 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:32.558 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:33.082 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:33.210 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:43.389 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars
02:51:43.394 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars
02:51:43.689 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
02:51:43.793 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
02:51:45.168 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:45.245 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:51:45.245 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:51:45.244 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:45.250 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:51:45.254 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:51:45.254 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:51:45.256 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:51:45.257 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:51:45.274 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:45.289 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:51:45.307 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:45.313 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:46.145 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:46.267 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:51:47.703 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:51:47.806 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:55:54.022 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:55:54.186 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 22248 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:55:54.187 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:55:54.188 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:55:55.539 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:55:55.690 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 15 JPA repository interfaces.
02:55:56.881 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:55:56.912 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:55:56.917 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:55:56.917 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:55:56.993 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:55:56.994 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2692 ms
02:55:57.376 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:55:57.689 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:55:57.833 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:55:57.874 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:55:58.121 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:55:58.146 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:55:59.934 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@39840986
02:55:59.941 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:56:00.184 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:56:01.420 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:56:05.121 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:56:05.760 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:56:06.857 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:56:06.858 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:56:07.301 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:56:07.571 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:56:07.672 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:56:08.922 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:56:09.202 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b4db716, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@378c7bc9, org.springframework.security.web.context.SecurityContextHolderFilter@10605dfc, org.springframework.security.web.header.HeaderWriterFilter@5f90cbac, org.springframework.web.filter.CorsFilter@6c9837e0, org.springframework.security.web.csrf.CsrfFilter@7d984423, org.springframework.security.web.authentication.logout.LogoutFilter@74bd894b, ru.anapa.autorent.config.JwtRequestFilter@59a2d756, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@167005fc, org.springframework.security.web.session.ConcurrentSessionFilter@3b78be1d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43128ab8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d9d6273, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73539633, org.springframework.security.web.session.SessionManagementFilter@25469b3c, org.springframework.security.web.access.ExceptionTranslationFilter@2a27be1, org.springframework.security.web.access.intercept.AuthorizationFilter@7d821bd9]
02:56:09.939 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:56:10.066 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:56:10.100 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:56:10.139 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 16.441 seconds (process running for 17.337)
02:56:10.185 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 21640 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:56:10.187 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:56:10.188 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:56:10.325 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
02:56:10.328 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
02:56:10.369 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:56:10.570 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:56:10.637 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
02:56:10.687 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:10.808 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:56:10.937 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:56:11.034 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:56:11.130 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:56:11.204 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:56:12.327 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:12.386 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:56:12.434 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:12.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 15 JPA repository interfaces.
02:56:13.057 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
02:56:13.976 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:14.084 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:14.301 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:56:14.335 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:56:14.342 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:56:14.344 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:56:14.441 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:56:14.444 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4000 ms
02:56:14.500 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
02:56:14.501 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
02:56:14.501 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
02:56:14.501 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
02:56:14.502 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
02:56:14.502 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
02:56:14.503 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
02:56:14.503 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
02:56:14.613 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:56:14.732 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:56:14.832 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:56:14.926 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:56:14.947 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:56:15.052 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:56:15.164 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
02:56:15.194 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:56:15.334 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:56:15.400 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:56:15.473 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
02:56:15.683 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:56:15.991 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:56:16.038 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:56:16.096 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:56:16.150 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:56:16.264 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:16.375 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:56:16.376 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
02:56:16.378 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
02:56:16.584 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
02:56:16.688 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
02:56:16.796 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:56:16.897 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
02:56:17.306 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
02:56:17.309 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
02:56:17.310 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:56:17.311 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
02:56:17.311 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:56:17.312 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
02:56:17.316 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
02:56:17.428 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
02:56:17.526 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
02:56:17.528 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
02:56:17.529 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
02:56:17.530 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
02:56:17.531 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
02:56:17.532 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
02:56:17.534 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
02:56:17.535 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
02:56:17.536 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:56:17.546 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:56:17.643 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:56:17.644 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
02:56:17.645 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
02:56:17.647 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
02:56:17.743 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
02:56:17.744 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
02:56:17.748 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
02:56:17.837 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49bc71b4
02:56:17.843 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:56:17.845 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
02:56:17.846 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
02:56:18.087 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:56:19.544 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:56:23.471 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:56:24.550 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:56:26.630 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:56:26.631 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:56:27.131 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:56:27.340 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:56:27.413 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:56:28.575 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:56:28.863 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14ae79ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@153454d9, org.springframework.security.web.context.SecurityContextHolderFilter@65ddebac, org.springframework.security.web.header.HeaderWriterFilter@56a77313, org.springframework.web.filter.CorsFilter@63724e1d, org.springframework.security.web.csrf.CsrfFilter@77b7a383, org.springframework.security.web.authentication.logout.LogoutFilter@1b4db716, ru.anapa.autorent.config.JwtRequestFilter@2d2fc130, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d6399c6, org.springframework.security.web.session.ConcurrentSessionFilter@584399b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41fbbc4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cf32e16, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1120bcc1, org.springframework.security.web.session.SessionManagementFilter@7e6f4961, org.springframework.security.web.access.ExceptionTranslationFilter@1d9d6273, org.springframework.security.web.access.intercept.AuthorizationFilter@6d82339e]
02:56:29.294 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
02:56:29.295 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
02:56:29.305 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
02:56:29.373 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
02:56:29.445 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:29.448 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:29.483 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
02:56:29.576 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
02:56:29.776 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
02:56:29.923 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
02:56:30.026 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
02:56:30.157 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
02:56:31.256 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
02:56:31.354 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:56:31.390 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
02:56:31.426 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
02:56:31.438 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
02:56:31.455 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
02:56:31.568 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:31.685 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:31.792 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:31.909 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.024 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.147 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.274 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.389 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.495 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.584 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
02:56:32.607 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.707 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
02:56:32.722 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.776 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

02:56:32.829 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:32.939 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:33.536 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:56:33.629 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:33.727 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:56:35.585 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:56:35.588 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:35.589 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:35.596 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:56:35.601 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:56:35.604 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:35.608 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:35.615 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:56:35.618 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:56:35.618 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:35.618 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:35.620 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:56:35.653 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:35.654 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:35.685 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:56:35.695 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:35.698 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:35.707 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:56:36.122 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:36.233 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:42.728 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
02:56:42.733 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:42.734 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:42.736 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
02:56:42.743 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
02:56:42.930 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
02:56:43.029 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
02:56:43.129 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
02:56:43.230 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
02:56:44.069 [http-nio-8080-exec-6] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
02:56:44.261 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
02:56:44.356 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:44.469 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:44.596 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:44.710 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:44.825 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:44.935 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.048 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.162 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.270 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.414 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.524 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.637 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.747 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:56:45.946 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
02:56:45.952 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:45.954 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:45.960 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
02:56:46.292 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:46.352 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:56:46.454 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:46.555 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:56:46.686 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:56:47.465 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:47.798 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:48.225 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:56:48.711 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:48.831 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:56:48.947 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
02:56:49.277 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:49.699 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:56:50.207 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:50.331 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:56:50.442 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:56:50.443 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car images count: 5
02:56:50.446 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:56:50.447 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:56:50.448 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:56:50.449 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:56:50.450 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:56:50.686 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:56:50.694 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:56:50.695 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:56:50.695 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:56:50.711 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.710 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.713 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.714 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.714 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.724 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.725 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.725 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.730 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:56:50.730 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:56:50.731 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:56:50.731 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:56:50.747 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:50.756 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:50.780 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:56:50.780 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:56:50.780 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:56:50.793 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.793 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.793 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:56:50.794 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.794 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.794 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:56:50.796 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:56:50.797 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:56:50.798 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:56:50.813 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:50.813 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:50.813 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:56:50.973 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:51.325 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:51.359 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:51.363 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:56:51.379 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:15.146 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /rentals/new
02:57:15.172 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:57:15.175 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:57:15.198 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to http://localhost:8080/auth/login
02:57:15.221 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
02:57:15.229 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:57:15.230 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:57:15.233 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
02:57:15.260 [http-nio-8080-exec-6] INFO  r.a.a.controller.AuthController - Login page requested
02:57:15.344 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:57:15.344 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:57:15.352 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:57:15.353 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
02:57:15.355 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:57:15.355 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B6967567C2390EF2B691F2B5CDE51E21
02:57:15.361 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:57:15.361 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:57:17.963 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
02:57:18.386 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
02:57:18.393 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:57:18.489 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:18.606 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
02:57:18.675 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
02:57:19.130 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
02:57:19.181 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session A603CF72D5AB1887227FD9C1024D6475, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
02:57:19.193 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
02:57:19.196 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3c0d5fa]
02:57:19.197 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
02:57:19.212 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
02:57:19.220 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:19.230 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
02:57:19.239 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:57:19.261 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
02:57:19.546 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
02:57:20.116 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
02:57:20.518 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
02:57:20.622 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:57:20.723 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:57:21.013 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:57:21.111 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:21.210 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:57:21.611 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
02:57:21.711 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:21.811 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:57:21.920 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
02:57:22.108 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:57:22.108 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:57:22.121 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:57:22.121 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:57:22.144 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:22.153 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:27.467 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
02:57:27.468 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
02:57:27.471 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
02:57:27.662 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
02:57:27.757 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
02:57:27.852 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
02:57:27.955 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
02:57:28.859 [http-nio-8080-exec-1] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
02:57:29.038 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
02:57:29.132 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.233 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.326 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.428 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.534 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.653 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.768 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.872 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:29.984 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:30.099 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:30.207 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:30.319 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:30.425 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:57:31.035 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
02:57:31.135 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:31.237 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:57:31.620 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:31.686 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:57:31.686 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:57:31.703 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:57:31.703 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:57:31.712 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:57:31.717 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:57:31.733 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
02:57:31.749 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:57:31.754 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:31.754 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:31.754 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:31.768 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:32.312 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:32.337 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:32.432 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:32.465 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:37.202 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
02:57:37.213 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
02:57:37.498 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:37.880 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:57:38.663 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:38.954 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:39.335 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
02:57:39.762 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:39.866 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
02:57:39.963 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
02:57:39.965 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Car images count: 5
02:57:39.966 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
02:57:39.966 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
02:57:39.967 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
02:57:39.968 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
02:57:39.970 [http-nio-8080-exec-7] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
02:57:39.980 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.029 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:57:40.029 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
02:57:40.030 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
02:57:40.030 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:57:40.044 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
02:57:40.044 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
02:57:40.044 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
02:57:40.044 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
02:57:40.067 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:40.075 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:40.081 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.083 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.095 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:57:40.096 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:57:40.099 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:57:40.109 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
02:57:40.109 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
02:57:40.111 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
02:57:40.113 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:40.113 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:40.114 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
02:57:40.198 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:40.299 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.631 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:40.647 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:40.666 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:40.678 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:57:40.749 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.759 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.781 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:57:40.782 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
02:59:40.333 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
02:59:40.534 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 5944 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
02:59:40.536 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
02:59:40.538 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
02:59:42.419 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
02:59:42.603 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 169 ms. Found 15 JPA repository interfaces.
02:59:44.271 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
02:59:44.328 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
02:59:44.333 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
02:59:44.334 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
02:59:44.475 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
02:59:44.478 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3790 ms
02:59:45.072 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
02:59:45.417 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
02:59:45.546 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
02:59:45.612 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
02:59:45.838 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
02:59:45.868 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
02:59:47.744 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@237aba92
02:59:47.750 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
02:59:48.008 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
02:59:49.239 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
02:59:53.129 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
02:59:53.914 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
02:59:55.508 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
02:59:55.508 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
02:59:56.090 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
02:59:56.323 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
02:59:56.404 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
02:59:57.427 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
02:59:57.658 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a70e212, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43fb1f3c, org.springframework.security.web.context.SecurityContextHolderFilter@776a7909, org.springframework.security.web.header.HeaderWriterFilter@11476fd1, org.springframework.web.filter.CorsFilter@639c66cd, org.springframework.security.web.csrf.CsrfFilter@7522540e, org.springframework.security.web.authentication.logout.LogoutFilter@4b71be02, ru.anapa.autorent.config.JwtRequestFilter@2c678c7b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6c9837e0, org.springframework.security.web.session.ConcurrentSessionFilter@68661b94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a69d594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@585b81c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1514c417, org.springframework.security.web.session.SessionManagementFilter@11eb6744, org.springframework.security.web.access.ExceptionTranslationFilter@2b102cdf, org.springframework.security.web.access.intercept.AuthorizationFilter@9a68aa9]
02:59:58.473 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
02:59:58.505 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
02:59:58.530 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 18.671 seconds (process running for 19.638)
02:59:58.752 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
02:59:58.853 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:59:58.975 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
02:59:58.990 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
02:59:59.130 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
02:59:59.260 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
02:59:59.330 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
02:59:59.362 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:59:59.400 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
02:59:59.458 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
02:59:59.496 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
02:59:59.588 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
02:59:59.677 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
02:59:59.777 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
02:59:59.870 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
02:59:59.973 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:00:00.006 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК СИНХРОНИЗАЦИИ СТАТУСОВ АВТОМОБИЛЕЙ ===
03:00:00.063 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:00.102 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
03:00:00.160 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:00:00.202 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
03:00:00.301 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:00:00.404 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:00:00.421 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
03:00:00.422 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
03:00:00.423 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
03:00:00.503 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:00.603 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
03:00:00.609 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:00:00.891 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Синхронизация статусов автомобилей завершена успешно
03:00:00.894 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - [Scheduler] Актуализация всех не обработанных платежей (PENDING/FAILED)
03:00:00.894 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:00:00.905 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:00:01.004 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:00:01.005 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:00:01.124 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:00:03.293 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:03.393 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:03.972 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:00:06.821 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:06.920 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:07.299 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
03:00:07.300 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
03:00:07.301 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
03:00:07.302 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
03:00:07.303 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
03:00:07.303 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
03:00:07.304 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
03:00:07.305 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
03:00:07.307 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
03:00:07.309 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
03:00:07.486 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
03:00:07.585 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
03:00:07.685 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:00:07.788 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:00:08.175 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
03:00:08.178 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
03:00:08.179 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:00:08.180 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
03:00:08.180 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:00:08.181 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
03:00:08.187 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
03:00:08.281 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
03:00:08.375 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
03:00:08.377 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:00:08.378 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:00:08.378 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
03:00:08.379 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
03:00:08.380 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
03:00:08.381 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
03:00:08.382 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
03:00:08.382 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:00:08.387 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:00:08.486 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:00:08.487 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
03:00:08.488 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:00:08.491 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:00:08.585 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:00:08.586 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:00:08.588 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:00:08.685 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:00:08.686 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:00:24.278 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
03:00:24.279 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
03:00:24.281 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
03:00:24.311 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
03:00:24.329 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:24.329 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:24.339 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
03:00:24.358 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
03:00:24.557 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
03:00:24.656 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
03:00:24.756 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
03:00:24.861 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
03:00:25.937 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
03:00:26.126 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
03:00:26.225 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.324 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.419 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.534 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.643 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.753 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.863 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:26.975 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:27.087 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:27.197 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:27.308 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:27.423 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:27.534 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:28.159 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:00:28.268 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:28.379 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:30.075 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:30.078 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:30.079 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:30.083 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:30.086 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:00:30.088 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:30.089 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:30.092 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:00:30.111 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:00:30.121 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:30.123 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:30.126 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:00:30.150 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:30.151 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:30.196 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:00:30.203 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:30.204 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:30.208 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:00:30.649 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:30.710 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:32.907 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
03:00:32.917 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:32.923 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:32.928 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
03:00:32.948 [http-nio-8080-exec-6] INFO  r.a.a.controller.AuthController - Login page requested
03:00:33.005 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:00:33.005 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:00:33.010 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:33.010 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:00:33.011 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:33.011 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id A603CF72D5AB1887227FD9C1024D6475
03:00:33.016 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:00:33.016 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:00:34.772 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
03:00:35.216 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
03:00:35.221 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:00:35.317 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:00:35.436 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
03:00:35.597 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
03:00:36.080 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
03:00:36.115 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session B836D3D16000E4A8EECA779C8476BC04, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
03:00:36.124 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
03:00:36.130 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@534c5fa5]
03:00:36.131 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
03:00:36.165 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
03:00:36.170 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:36.185 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
03:00:36.195 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:00:36.219 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:00:36.410 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
03:00:36.975 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
03:00:37.363 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
03:00:37.469 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:00:37.569 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:00:37.854 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:00:37.951 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:38.051 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:38.447 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
03:00:38.546 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:38.646 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:38.753 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
03:00:38.916 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:00:38.917 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:00:38.921 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:00:38.923 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:00:38.935 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:38.935 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:48.976 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cars
03:00:48.982 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:48.985 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cars
03:00:48.987 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
03:00:48.991 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.web.servlet.ModelAndView ru.anapa.autorent.controller.AdminController.adminCars(); target is of class [ru.anapa.autorent.controller.AdminController]
03:00:49.284 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    limit
        ?, ?
03:00:49.397 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id in (?, ?) 
    order by
        ci1_0.display_order
03:00:50.821 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:00:50.823 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:00:50.828 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:00:50.825 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:00:50.842 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:50.851 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:50.934 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:50.934 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:00:50.942 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:50.942 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:00:50.949 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:50.949 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:51.085 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:51.208 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:51.492 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:51.609 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:54.669 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/11
03:00:54.676 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/11
03:00:54.974 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:55.361 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:00:56.122 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:56.415 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:56.798 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:00:57.121 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:57.223 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:00:57.323 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:57.423 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:57.538 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:00:57.858 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:58.274 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:00:58.676 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:58.798 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
03:00:58.905 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:59.014 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:00:59.128 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Loading car details for ID: 11
03:00:59.130 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Car images count: 5
03:00:59.132 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=11, url=/images/car/1750809570975_photo_2025-05-19_21-50-48.jpg, main=true
03:00:59.133 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=12, url=/images/car/1750809572139_photo_2025-05-19_20-35-10.jpg, main=false
03:00:59.134 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=13, url=/images/car/1750809572743_photo_2025-05-19_21-50-34.jpg, main=false
03:00:59.135 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=14, url=/images/car/1750809573226_photo_2025-05-19_21-50-29.jpg, main=false
03:00:59.135 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=15, url=/images/car/1750809573728_photo_2025-05-19_21-50-19.jpg, main=false
03:00:59.320 [http-nio-8080-exec-8] ERROR r.a.a.controller.CarController - Ошибка при преобразовании периодов в JSON: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: java.util.ArrayList[0]->ru.anapa.autorent.dto.RentalPeriodDto["startDate"])
03:00:59.365 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:59.457 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:00:59.456 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:00:59.459 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:59.461 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:00:59.459 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:00:59.461 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809572139_photo_2025-05-19_20-35-10.jpg
03:00:59.465 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:00:59.465 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809572139_photo_2025-05-19_20-35-10.jpg
03:00:59.482 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:59.488 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:59.494 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809572743_photo_2025-05-19_21-50-34.jpg
03:00:59.488 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:59.494 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809573226_photo_2025-05-19_21-50-29.jpg
03:00:59.500 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:00:59.503 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809573226_photo_2025-05-19_21-50-29.jpg
03:00:59.503 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809572743_photo_2025-05-19_21-50-34.jpg
03:00:59.507 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809573728_photo_2025-05-19_21-50-19.jpg
03:00:59.511 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:59.513 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:59.521 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809573728_photo_2025-05-19_21-50-19.jpg
03:00:59.538 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:00:59.707 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:00:59.817 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:01:00.035 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:01:00.065 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:01:00.068 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:01:00.085 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:01:00.144 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:01:00.172 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:01:00.172 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:01:00.192 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:02:39.788 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:02:39.951 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 24448 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:02:39.952 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:02:39.953 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:02:41.333 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:02:41.442 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 15 JPA repository interfaces.
03:02:42.679 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:02:42.705 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:02:42.708 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:02:42.710 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:02:42.784 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:02:42.784 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2694 ms
03:02:43.037 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:02:43.233 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:02:43.338 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:02:43.398 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:02:43.630 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:02:43.658 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:02:45.253 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49bc71b4
03:02:45.255 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:02:45.503 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:02:46.785 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:02:50.437 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:02:51.113 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:02:52.264 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:02:52.264 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:02:52.770 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:02:53.045 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:02:53.100 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:02:53.971 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:02:54.132 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1514c417, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@153e6276, org.springframework.security.web.context.SecurityContextHolderFilter@23c6d607, org.springframework.security.web.header.HeaderWriterFilter@3b78be1d, org.springframework.web.filter.CorsFilter@574c6a6a, org.springframework.security.web.csrf.CsrfFilter@7e525116, org.springframework.security.web.authentication.logout.LogoutFilter@5076da27, ru.anapa.autorent.config.JwtRequestFilter@2d2fc130, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fb6d686, org.springframework.security.web.session.ConcurrentSessionFilter@31288ffc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59e9bb43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@437d5a04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65aa0c39, org.springframework.security.web.session.SessionManagementFilter@2d2bb545, org.springframework.security.web.access.ExceptionTranslationFilter@3b1bdab9, org.springframework.security.web.access.intercept.AuthorizationFilter@2755f323]
03:02:54.677 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:02:54.701 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
03:02:54.729 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 15.291 seconds (process running for 16.205)
03:02:54.943 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
03:02:55.056 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
03:02:55.056 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:02:55.165 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
03:02:55.166 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:02:55.278 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:02:55.282 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:02:55.398 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:02:55.398 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:02:55.500 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:02:55.501 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:02:55.594 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
03:02:55.605 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:02:55.892 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
03:02:56.100 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
03:02:56.477 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
03:02:56.531 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:02:56.629 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:02:56.726 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
03:02:56.727 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
03:02:56.728 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
03:02:56.914 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
03:02:57.473 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:02:58.195 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:02:58.423 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 24120 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:02:58.425 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:02:58.426 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:02:58.516 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:02:58.630 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:02:59.264 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:02:59.939 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:00.045 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:00.461 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
03:03:00.461 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
03:03:00.462 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
03:03:00.462 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
03:03:00.463 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
03:03:00.463 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
03:03:00.464 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
03:03:00.464 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
03:03:00.469 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
03:03:00.470 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
03:03:00.677 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
03:03:00.787 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
03:03:00.794 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:03:00.892 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:03:00.996 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 189 ms. Found 15 JPA repository interfaces.
03:03:01.005 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:03:01.430 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
03:03:01.436 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
03:03:01.436 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:03:01.437 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
03:03:01.437 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:03:01.438 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
03:03:01.444 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
03:03:01.557 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
03:03:01.661 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
03:03:01.662 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:03:01.662 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:03:01.663 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
03:03:01.663 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
03:03:01.664 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
03:03:01.669 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
03:03:01.670 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
03:03:01.671 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:03:01.676 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:03:01.781 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:03:01.782 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
03:03:01.784 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:03:01.789 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:03:01.894 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:03:01.895 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:03:01.902 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:03:02.007 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:03:02.008 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:03:02.845 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:03:02.873 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:03:02.878 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:03:02.878 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:03:02.974 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:03:02.974 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4257 ms
03:03:03.377 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:03:03.623 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:03:03.773 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:03:03.858 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:03:04.273 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:03:04.326 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:03:06.087 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66596c4c
03:03:06.093 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:03:06.339 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:03:08.111 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:03:11.931 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:03:12.638 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
03:03:12.638 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
03:03:12.648 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
03:03:12.703 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
03:03:12.770 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:12.772 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:12.796 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
03:03:12.872 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
03:03:13.013 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:03:13.086 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
03:03:13.185 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
03:03:13.284 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
03:03:13.389 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
03:03:14.817 [http-nio-8080-exec-1] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
03:03:15.032 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
03:03:15.137 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.251 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.361 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.469 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.581 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.692 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.801 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:15.912 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:16.023 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:16.134 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:16.241 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:16.356 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:16.479 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:17.099 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:03:17.204 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:17.313 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:03:17.633 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:03:17.635 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:03:19.225 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:03:19.417 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:03:19.433 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:19.435 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:19.444 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:03:19.446 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:03:19.445 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:03:19.466 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:19.480 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:19.476 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:19.481 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:03:19.484 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:19.498 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:03:19.533 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:19.549 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:19.556 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:19.581 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:19.611 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:19.616 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:20.116 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:03:20.178 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:20.205 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:20.360 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:03:22.797 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:03:23.276 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71f83fd1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54e1c058, org.springframework.security.web.context.SecurityContextHolderFilter@309b7b53, org.springframework.security.web.header.HeaderWriterFilter@3ed56eaf, org.springframework.web.filter.CorsFilter@6c508924, org.springframework.security.web.csrf.CsrfFilter@1bf093f5, org.springframework.security.web.authentication.logout.LogoutFilter@518125dc, ru.anapa.autorent.config.JwtRequestFilter@5a0f87e5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bf4390d, org.springframework.security.web.session.ConcurrentSessionFilter@4fd9603f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40fd9204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b4db716, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79e12f24, org.springframework.security.web.session.SessionManagementFilter@4ddbfab2, org.springframework.security.web.access.ExceptionTranslationFilter@74bd894b, org.springframework.security.web.access.intercept.AuthorizationFilter@59acd373]
03:03:25.191 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:03:25.222 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
03:03:25.257 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
03:03:25.287 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
03:03:27.189 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
03:03:27.192 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:27.194 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:27.196 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
03:03:27.407 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /cars/12
03:03:27.410 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:27.411 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:27.414 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /cars/12
03:03:27.488 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:27.706 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:27.856 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:28.077 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
03:03:28.155 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
03:03:28.160 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:28.236 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

03:03:28.553 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:28.862 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:28.970 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:29.243 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:29.265 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:29.695 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:29.754 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:29.894 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:03:30.007 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:03:30.060 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:30.180 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:03:30.295 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status=? 
    order by
        r1_0.end_date
03:03:30.311 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:30.610 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:30.710 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:31.064 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    left join
        cars c1_0 
            on c1_0.id=ci1_0.car_id 
    where
        c1_0.id=? 
    order by
        ci1_0.display_order
03:03:31.398 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:31.519 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
03:03:31.625 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
03:03:31.627 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Car images count: 5
03:03:31.630 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
03:03:31.633 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
03:03:31.634 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
03:03:31.636 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
03:03:31.637 [http-nio-8080-exec-8] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
03:03:31.898 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:03:31.902 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:31.903 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
03:03:31.903 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:03:31.906 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.906 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.907 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.906 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.906 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.908 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.907 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.909 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.915 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:31.922 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980145807_photo_2025-05-19_20-35-10.jpg
03:03:31.920 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:03:31.923 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:03:31.937 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:31.937 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:31.957 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
03:03:31.958 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
03:03:31.964 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.964 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.967 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
03:03:31.967 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.967 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.971 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146762_photo_2025-05-19_21-50-29.jpg
03:03:31.971 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980147351_photo_2025-05-19_21-50-19.jpg
03:03:31.972 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:31.972 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:31.974 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980146273_photo_2025-05-19_21-50-34.jpg
03:03:31.976 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:31.976 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:31.990 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:32.139 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:32.170 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:32.292 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?) 
    order by
        r1_0.start_date
03:03:32.401 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Loading car details for ID: 12
03:03:32.403 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Car images count: 5
03:03:32.403 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Image: id=16, url=/images/car/1750980144992_photo_2025-05-19_21-50-48.jpg, main=true
03:03:32.405 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Image: id=17, url=/images/car/1750980145807_photo_2025-05-19_20-35-10.jpg, main=false
03:03:32.406 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Image: id=18, url=/images/car/1750980146273_photo_2025-05-19_21-50-34.jpg, main=false
03:03:32.407 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Image: id=19, url=/images/car/1750980146762_photo_2025-05-19_21-50-29.jpg, main=false
03:03:32.409 [http-nio-8080-exec-6] DEBUG r.a.a.controller.CarController - Image: id=20, url=/images/car/1750980147351_photo_2025-05-19_21-50-19.jpg, main=false
03:03:32.521 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:32.534 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:32.539 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:32.562 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:43.080 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
03:03:43.086 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:43.088 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:43.095 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
03:03:43.100 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
03:03:43.285 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
03:03:43.383 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
03:03:43.480 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
03:03:43.579 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
03:03:44.520 [http-nio-8080-exec-3] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
03:03:44.728 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
03:03:44.832 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:44.935 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.042 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.149 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.263 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.372 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.482 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.585 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.695 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.800 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:45.909 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:46.014 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:46.120 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:03:46.695 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:03:46.789 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:46.883 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:03:47.293 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:03:47.293 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:03:47.293 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:47.293 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:03:47.295 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:47.295 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:47.295 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:47.295 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:03:47.296 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:47.296 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:47.296 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:47.297 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:03:47.299 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:03:47.299 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:03:47.302 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:03:47.299 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:03:47.312 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:47.314 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:03:47.837 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:03:47.902 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:29.283 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:05:29.484 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 23232 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:05:29.485 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:05:29.486 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:05:32.344 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:05:32.577 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 226 ms. Found 15 JPA repository interfaces.
03:05:34.938 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:05:34.976 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:05:34.982 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:05:34.993 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:05:35.115 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:05:35.115 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5449 ms
03:05:35.817 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:05:36.273 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:05:36.410 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:05:36.460 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:05:36.943 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:05:37.026 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:05:38.804 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40edc64e
03:05:38.812 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:05:39.045 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:05:40.150 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:05:44.082 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:05:44.932 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:05:46.525 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:05:46.526 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:05:47.040 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:05:47.247 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:05:47.308 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:05:48.220 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:05:48.421 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@574c6a6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3066ad86, org.springframework.security.web.context.SecurityContextHolderFilter@585b81c1, org.springframework.security.web.header.HeaderWriterFilter@2d2bb545, org.springframework.web.filter.CorsFilter@3e1f3e1, org.springframework.security.web.csrf.CsrfFilter@679d8537, org.springframework.security.web.authentication.logout.LogoutFilter@4fd9603f, ru.anapa.autorent.config.JwtRequestFilter@4ecd8ab1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58ff0c7b, org.springframework.security.web.session.ConcurrentSessionFilter@4a8d6c32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e3b689a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@584399b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@540eb8f7, org.springframework.security.web.session.SessionManagementFilter@3e28dace, org.springframework.security.web.access.ExceptionTranslationFilter@3b78be1d, org.springframework.security.web.access.intercept.AuthorizationFilter@5e59888e]
03:05:49.239 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:05:49.274 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
03:05:49.319 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 20.503 seconds (process running for 21.609)
03:05:49.552 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
03:05:49.633 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:05:49.651 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
03:05:49.741 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:49.749 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
03:05:49.853 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:05:49.862 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:05:49.958 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:05:49.964 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:05:50.047 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:05:50.062 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:05:50.148 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:05:50.157 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
03:05:50.410 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
03:05:50.411 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
03:05:50.411 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
03:05:50.601 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
03:05:51.117 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:05:52.346 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:52.450 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:53.012 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:05:56.065 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:56.164 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:05:56.546 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
03:05:56.546 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
03:05:56.547 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
03:05:56.547 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
03:05:56.548 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
03:05:56.548 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
03:05:56.548 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
03:05:56.548 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
03:05:56.741 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
03:05:57.119 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
03:05:57.190 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:05:57.290 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:05:57.390 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
03:05:57.391 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
03:05:57.392 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
03:05:57.579 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
03:05:57.677 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
03:05:57.781 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:05:57.885 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:05:58.104 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
03:05:58.105 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
03:05:58.107 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
03:05:58.138 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
03:05:58.161 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:05:58.162 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:05:58.178 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
03:05:58.240 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
03:05:58.263 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
03:05:58.266 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
03:05:58.266 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:05:58.267 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
03:05:58.267 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:05:58.267 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
03:05:58.280 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
03:05:58.383 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
03:05:58.457 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
03:05:58.470 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
03:05:58.472 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:05:58.472 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:05:58.473 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
03:05:58.473 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
03:05:58.474 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
03:05:58.474 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
03:05:58.474 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
03:05:58.475 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:05:58.477 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:05:58.552 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
03:05:58.565 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:05:58.566 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
03:05:58.566 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:05:58.568 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:05:58.648 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
03:05:58.656 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:05:58.657 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:05:58.660 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:05:58.746 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
03:05:58.747 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:05:58.748 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:06:01.004 [http-nio-8080-exec-1] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
03:06:01.211 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
03:06:01.317 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.425 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.531 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.645 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.751 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.857 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:01.964 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.067 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.175 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.283 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.396 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.503 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:02.614 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:03.227 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:06:03.332 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:06:03.438 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:06:04.643 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:06:04.648 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:04.650 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:04.652 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:06:04.657 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:06:04.658 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:06:04.661 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:04.662 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:04.665 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:04.665 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:04.668 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:06:04.670 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:06:04.671 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:06:04.676 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:04.677 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:04.679 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:06:04.704 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:06:04.705 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:06:05.001 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:06:05.232 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:06:07.031 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
03:06:07.033 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:07.034 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:07.037 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
03:06:07.051 [http-nio-8080-exec-6] INFO  r.a.a.controller.AuthController - Login page requested
03:06:07.124 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:06:07.124 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:06:07.128 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:07.129 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:06:07.131 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:07.131 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id B836D3D16000E4A8EECA779C8476BC04
03:06:07.135 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:06:07.135 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:06:09.054 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
03:06:09.441 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
03:06:09.447 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:06:09.545 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:06:09.661 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
03:06:09.710 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
03:06:10.121 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
03:06:10.159 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 62FA9B2FB4F73E2E614866AB2664D652, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
03:06:10.171 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
03:06:10.174 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7ba7c1cd]
03:06:10.175 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
03:06:10.190 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
03:06:10.200 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:06:10.212 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
03:06:10.219 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:06:10.230 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:06:10.423 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
03:06:10.981 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
03:06:11.381 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
03:06:11.482 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:06:11.582 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:06:11.867 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:06:11.965 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:06:12.062 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:06:12.446 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
03:06:12.543 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:06:12.642 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:06:12.748 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
03:06:12.906 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:06:12.906 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:06:12.911 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:06:12.911 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:06:12.921 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:06:12.921 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:08:14.514 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:08:14.723 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 9728 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:08:14.726 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:08:14.727 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:08:17.373 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:08:17.550 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 15 JPA repository interfaces.
03:08:19.224 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:08:19.260 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:08:19.270 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:08:19.271 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:08:19.390 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:08:19.391 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4487 ms
03:08:19.885 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:08:20.190 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:08:20.359 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:08:20.440 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:08:21.044 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:08:21.155 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:08:23.134 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@22cb8e5f
03:08:23.137 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:08:23.405 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:08:24.905 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:08:26.712 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:08:26.916 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 21500 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:08:26.917 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:08:26.918 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:08:28.865 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:08:29.269 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:08:29.579 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 273 ms. Found 15 JPA repository interfaces.
03:08:29.841 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:08:32.569 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:08:32.618 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:08:32.633 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:08:32.634 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:08:32.728 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:08:32.729 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:08:32.795 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:08:32.796 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5656 ms
03:08:33.383 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:08:33.610 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:08:33.800 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:08:33.986 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:08:33.987 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:08:34.082 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:08:34.112 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:08:34.901 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:08:34.986 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:08:35.629 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:08:35.843 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@153e6276, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@574c6a6a, org.springframework.security.web.context.SecurityContextHolderFilter@5c7bff6e, org.springframework.security.web.header.HeaderWriterFilter@535d6165, org.springframework.web.filter.CorsFilter@3066ad86, org.springframework.security.web.csrf.CsrfFilter@babafb5, org.springframework.security.web.authentication.logout.LogoutFilter@65c03f1b, ru.anapa.autorent.config.JwtRequestFilter@3d3930fe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37f2f6b8, org.springframework.security.web.session.ConcurrentSessionFilter@1d9d6273, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a6aaf9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57dad28b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@518125dc, org.springframework.security.web.session.SessionManagementFilter@4e59cfdd, org.springframework.security.web.access.ExceptionTranslationFilter@5ed3696c, org.springframework.security.web.access.intercept.AuthorizationFilter@73539633]
03:08:36.575 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:08:36.608 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
03:08:36.635 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 22.752 seconds (process running for 24.113)
03:08:36.767 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
03:08:36.768 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
03:08:36.858 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49bc71b4
03:08:36.861 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:08:36.875 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
03:08:37.024 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:08:37.057 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
03:08:37.134 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:08:37.159 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:37.292 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:08:37.418 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:08:37.527 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:08:37.590 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:08:37.626 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
03:08:38.739 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:38.829 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:39.356 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:08:39.607 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:08:39.989 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:40.088 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:40.473 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
03:08:40.475 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
03:08:40.476 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
03:08:40.477 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
03:08:40.478 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
03:08:40.478 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
03:08:40.479 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
03:08:40.479 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
03:08:40.678 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
03:08:41.053 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
03:08:41.098 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:08:41.203 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:41.305 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
03:08:41.409 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
03:08:41.524 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
03:08:41.622 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:08:41.728 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:08:41.827 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:08:41.929 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:08:42.234 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
03:08:42.237 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
03:08:42.238 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
03:08:42.428 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
03:08:42.526 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
03:08:42.628 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:08:42.734 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:08:43.119 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
03:08:43.123 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
03:08:43.124 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:08:43.124 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
03:08:43.125 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:08:43.125 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
03:08:43.130 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
03:08:43.242 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
03:08:43.344 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
03:08:43.345 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:08:43.346 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:08:43.347 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
03:08:43.349 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
03:08:43.351 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
03:08:43.354 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
03:08:43.355 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
03:08:43.356 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:08:43.362 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:08:43.453 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:08:43.454 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
03:08:43.455 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:08:43.459 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:08:43.549 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:08:43.553 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:08:43.555 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:08:43.641 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:08:43.642 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:08:43.738 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:08:44.362 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:08:45.762 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:08:45.763 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:08:46.774 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:08:47.189 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:08:47.273 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:08:48.920 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:08:49.205 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45f668da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55aeefb3, org.springframework.security.web.context.SecurityContextHolderFilter@586e4706, org.springframework.security.web.header.HeaderWriterFilter@55fd31ad, org.springframework.web.filter.CorsFilter@14ae79ea, org.springframework.security.web.csrf.CsrfFilter@2b102cdf, org.springframework.security.web.authentication.logout.LogoutFilter@70a56d5d, ru.anapa.autorent.config.JwtRequestFilter@2d2fc130, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35754437, org.springframework.security.web.session.ConcurrentSessionFilter@437d5a04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59edc1e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3de10c4e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4103e6b7, org.springframework.security.web.session.SessionManagementFilter@4ba64e10, org.springframework.security.web.access.ExceptionTranslationFilter@1bf093f5, org.springframework.security.web.access.intercept.AuthorizationFilter@540eb8f7]
03:08:49.926 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
03:08:49.927 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
03:08:49.933 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
03:08:49.966 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
03:08:50.002 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:50.003 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:50.018 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
03:08:50.060 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.description,
        c1_0.image,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    left join
        rental_items ri1_0 
            on c1_0.id=ri1_0.category_id 
    group by
        c1_0.id 
    order by
        count(ri1_0.id) desc
03:08:50.170 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:08:50.182 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
03:08:50.189 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
03:08:50.192 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
03:08:50.266 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        (select
            count(1) 
        from
            rentals r1_0 
        where
            ri1_0.id=r1_0.item_id) desc
03:08:50.365 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
    order by
        ri1_0.created_at desc
03:08:50.467 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ri1_0.id,
        ri1_0.available_quantity,
        ri1_0.category_id,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at 
    from
        rental_items ri1_0 
    where
        ri1_0.available_quantity>0 
        and ri1_0.is_promotional=1
03:08:50.574 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        distinct c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        i1_0.car_id,
        i1_0.id,
        i1_0.content_type,
        i1_0.description,
        i1_0.display_order,
        i1_0.file_name,
        i1_0.image_data,
        i1_0.image_url,
        i1_0.is_main,
        i1_0.rotation,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    left join
        car_images i1_0 
            on c1_0.id=i1_0.car_id
03:08:51.641 [http-nio-8080-exec-2] DEBUG r.anapa.autorent.service.UserService - Получение списка всех пользователей
03:08:51.726 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
03:08:51.798 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
03:08:51.856 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0
03:08:51.894 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

03:08:51.968 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.085 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.199 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.317 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.432 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.547 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.658 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.772 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.888 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:52.999 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:53.115 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:53.231 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:53.349 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:08:53.933 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:08:54.031 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:54.132 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:08:55.860 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:08:55.876 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:55.884 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:55.891 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:08:55.890 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:08:55.889 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750809570975_photo_2025-05-19_21-50-48.jpg
03:08:55.904 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:55.913 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:55.911 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:55.918 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:55.919 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:08:55.921 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:08:55.926 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:08:55.934 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:55.935 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:55.941 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /images/car/1750980144992_photo_2025-05-19_21-50-48.jpg
03:08:55.983 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:08:55.983 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0 
    where
        ci1_0.image_url=?
03:08:56.465 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:56.514 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:08:57.966 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/login
03:08:57.971 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:57.972 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:57.978 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/login
03:08:57.997 [http-nio-8080-exec-4] INFO  r.a.a.controller.AuthController - Login page requested
03:08:58.097 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:08:58.097 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:08:58.102 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:58.105 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
03:08:58.106 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:58.108 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 62FA9B2FB4F73E2E614866AB2664D652
03:08:58.114 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:08:58.115 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:08:59.832 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
03:09:00.302 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Загрузка пользователя по email: admin@example.com
03:09:00.311 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:09:00.413 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:09:00.537 [http-nio-8080-exec-9] DEBUG r.anapa.autorent.service.UserService - Пользователь найден: admin@example.com, роли: [ROLE_ADMIN], enabled: true
03:09:00.613 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_login_date=?,
        last_name=?,
        password=?,
        phone=?,
        registration_date=? 
    where
        id=?
03:09:01.177 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
03:09:01.244 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 45F3B4D58DBF299F04B0F955329EF181, for principal org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]]
03:09:01.257 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.CsrfAuthenticationStrategy - Replaced CSRF Token
03:09:01.263 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5748aef5]
03:09:01.265 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
03:09:01.289 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
03:09:01.299 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:09:01.309 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
03:09:01.317 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:09:01.349 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.AdminController.adminDashboard(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.AdminController]
03:09:01.559 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0
03:09:02.146 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        cars c1_0
03:09:02.564 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        cars c1_0 
    where
        c1_0.status=?
03:09:02.670 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:09:02.778 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(r1_0.id) 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:09:03.076 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0
03:09:03.177 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:09:03.277 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:09:03.680 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    order by
        r1_0.created_at desc 
    limit
        ?
03:09:03.779 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:09:03.879 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:09:03.990 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.status=?
03:09:04.189 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:09:04.191 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:09:04.200 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:09:04.200 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:09:04.224 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:09:04.228 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:09:11.021 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/payments
03:09:11.031 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:09:11.039 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/payments
03:09:11.044 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.DailyPaymentController.listPayments(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.DailyPaymentController]
03:09:11.051 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.lang.String ru.anapa.autorent.controller.DailyPaymentController.listPayments(org.springframework.ui.Model); target is of class [ru.anapa.autorent.controller.DailyPaymentController]
03:09:11.061 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
    order by
        r1_0.created_at desc
03:09:11.258 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:09:11.361 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:09:11.569 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/main.css
03:09:11.571 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/main.js
03:09:11.575 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/main.css
03:09:11.584 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/main.js
03:09:11.593 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:09:11.607 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
03:11:38.960 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:11:39.227 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 9912 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:11:39.229 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:11:39.230 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:11:42.194 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:11:42.397 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 189 ms. Found 15 JPA repository interfaces.
03:11:44.326 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:11:44.376 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:11:44.389 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:11:44.390 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:11:44.528 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:11:44.529 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5042 ms
03:11:45.324 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:11:45.772 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:11:45.985 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:11:46.073 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:11:46.943 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:11:47.017 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:11:48.923 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@237aba92
03:11:48.928 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:11:49.158 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:11:50.356 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:11:53.890 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
03:11:54.067 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:11:54.140 [main] INFO  r.anapa.autorent.AutorentApplication - Starting AutorentApplication v0.0.1-SNAPSHOT using Java 23.0.1 with PID 18872 (C:\Users\Администратор\IdeaProjects\autorent\target\autorent-0.0.1-SNAPSHOT.jar started by Администратор in C:\Users\Администратор\IdeaProjects\autorent)
03:11:54.141 [main] DEBUG r.anapa.autorent.AutorentApplication - Running with Spring Boot v3.2.3, Spring v6.1.4
03:11:54.142 [main] INFO  r.anapa.autorent.AutorentApplication - The following 1 profile is active: "dev"
03:11:55.078 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:11:56.931 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:11:56.932 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:11:57.067 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
03:11:57.338 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 246 ms. Found 15 JPA repository interfaces.
03:11:57.696 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:11:58.033 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:11:58.136 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:11:59.466 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:11:59.713 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9a68aa9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b4db716, org.springframework.security.web.context.SecurityContextHolderFilter@68661b94, org.springframework.security.web.header.HeaderWriterFilter@37d3415a, org.springframework.web.filter.CorsFilter@378c7bc9, org.springframework.security.web.csrf.CsrfFilter@4566d9a5, org.springframework.security.web.authentication.logout.LogoutFilter@757253dd, ru.anapa.autorent.config.JwtRequestFilter@30d15e4a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7bc18838, org.springframework.security.web.session.ConcurrentSessionFilter@11eb6744, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bf093f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a8d6c32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2755f323, org.springframework.security.web.session.SessionManagementFilter@832c75f, org.springframework.security.web.access.ExceptionTranslationFilter@1efedaae, org.springframework.security.web.access.intercept.AuthorizationFilter@70d7be53]
03:11:59.720 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
03:11:59.765 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
03:11:59.770 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
03:11:59.771 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
03:11:59.880 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
03:11:59.881 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5520 ms
03:12:00.583 [main] DEBUG r.a.autorent.config.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
03:12:01.017 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
03:12:01.048 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:12:01.070 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
03:12:01.102 [main] INFO  r.anapa.autorent.AutorentApplication - Started AutorentApplication in 22.752 seconds (process running for 23.882)
03:12:01.166 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
03:12:01.219 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
03:12:01.313 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
03:12:01.632 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:12:01.632 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
03:12:01.766 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:12:01.768 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
03:12:01.849 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
03:12:01.885 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:12:01.902 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:12:01.911 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
03:12:02.036 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:12:02.036 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
03:12:02.130 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
03:12:02.132 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
03:12:02.230 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
03:12:02.237 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
03:12:02.519 [main] INFO  r.a.autorent.config.DataInitializer - Статусы автомобилей синхронизированы при запуске приложения
03:12:02.520 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ СИСТЕМЫ ИЗОБРАЖЕНИЙ ===
03:12:02.521 [main] INFO  r.a.a.config.ImageTestInitializer - Проверка статуса миграции изображений...
03:12:02.714 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        car_images ci1_0
03:12:03.276 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:12:03.702 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2699b656
03:12:03.710 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
03:12:03.961 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
03:12:04.354 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:12:04.463 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:12:05.079 [main] DEBUG org.hibernate.SQL - 
    select
        ci1_0.id,
        ci1_0.car_id,
        ci1_0.content_type,
        ci1_0.description,
        ci1_0.display_order,
        ci1_0.file_name,
        ci1_0.image_data,
        ci1_0.image_url,
        ci1_0.is_main,
        ci1_0.rotation 
    from
        car_images ci1_0
03:12:05.393 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
03:12:07.674 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:12:07.774 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
03:12:08.190 [main] INFO  r.a.a.service.ImageMigrationService - Статус миграции изображений:
03:12:08.192 [main] INFO  r.a.a.service.ImageMigrationService - - Всего изображений: 10
03:12:08.193 [main] INFO  r.a.a.service.ImageMigrationService - - В БД (BLOB): 10
03:12:08.195 [main] INFO  r.a.a.service.ImageMigrationService - - С URL: 10
03:12:08.196 [main] INFO  r.a.a.service.ImageMigrationService - - Требуют миграции: 0
03:12:08.197 [main] INFO  r.a.a.config.ImageTestInitializer - === ТЕСТИРОВАНИЕ ЗАВЕРШЕНО ===
03:12:08.198 [main] INFO  r.a.a.config.ImageTestInitializer - Для миграции изображений используйте: POST /admin/images/migrate
03:12:08.200 [main] INFO  r.a.a.config.ImageTestInitializer - Для проверки статуса используйте: GET /admin/images/migration-status
03:12:08.423 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        roles r1_0
03:12:08.834 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: проверка наличия пользователей
03:12:08.913 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date 
    from
        users u1_0 
    where
        u1_0.email=?
03:12:09.024 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.user_id=?
03:12:09.138 [main] INFO  r.a.autorent.config.DataInitializer - DataInitializer: admin@example.com существует: true
03:12:09.141 [main] INFO  r.a.autorent.config.ScheduledTasks - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ ПРИЛОЖЕНИЯ ===
03:12:09.143 [main] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
03:12:09.357 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
03:12:09.419 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
03:12:09.471 [main] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
03:12:09.580 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:12:09.687 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
03:12:10.097 [main] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
03:12:10.100 [main] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
03:12:10.102 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:12:10.104 [main] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
03:12:10.104 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:12:10.105 [main] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
03:12:10.110 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
03:12:10.211 [main] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
03:12:10.245 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
03:12:10.323 [main] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
03:12:10.324 [main] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
03:12:10.324 [main] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
03:12:10.325 [main] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
03:12:10.325 [main] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
03:12:10.325 [main] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
03:12:10.326 [main] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
03:12:10.327 [main] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
03:12:10.327 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:12:10.331 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:12:10.488 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:12:10.489 [main] INFO  r.a.autorent.config.ScheduledTasks - Обработка пропущенных платежей при старте завершена успешно
03:12:10.490 [main] INFO  r.a.a.service.DailyPaymentService - === ОБРАБОТКА ПРОПУЩЕННЫХ ПЛАТЕЖЕЙ ПРИ СТАРТЕ СЕРВИСА ===
03:12:10.491 [main] DEBUG org.hibernate.SQL - 
    select
        distinct dp1_0.payment_date 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<? 
    order by
        dp1_0.payment_date
03:12:10.671 [main] INFO  r.a.a.service.DailyPaymentService - Нет пропущенных платежей для обработки при старте
03:12:10.672 [main] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
03:12:10.674 [main] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
03:12:11.207 [main] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
03:12:11.208 [main] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
03:12:11.539 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse,jakarta.servlet.FilterChain) throws jakarta.servlet.ServletException,java.io.IOException] because it is marked as final, consider using interface-based JDK proxies instead.
03:12:11.539 [main] WARN  o.s.aop.framework.CglibAopProxy - Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(jakarta.servlet.FilterConfig) throws jakarta.servlet.ServletException] because it is marked as final, consider using interface-based JDK proxies instead.
03:12:12.088 [main] INFO  r.anapa.autorent.service.SmsService - SmsService инициализирован с использованием SMS.ru API
03:12:12.342 [main] INFO  r.a.a.controller.AuthController - AuthController initialized
03:12:12.421 [main] INFO  r.a.a.controller.RentalController - RentalController initialized
03:12:13.377 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
03:12:13.593 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a70e212, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43fb1f3c, org.springframework.security.web.context.SecurityContextHolderFilter@20df0381, org.springframework.security.web.header.HeaderWriterFilter@77b7a383, org.springframework.web.filter.CorsFilter@639c66cd, org.springframework.security.web.csrf.CsrfFilter@38823d86, org.springframework.security.web.authentication.logout.LogoutFilter@7391fee4, ru.anapa.autorent.config.JwtRequestFilter@d120d7c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6c9837e0, org.springframework.security.web.session.ConcurrentSessionFilter@10c75f1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13bd8fee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23c6d607, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1514c417, org.springframework.security.web.session.SessionManagementFilter@5ed3696c, org.springframework.security.web.access.ExceptionTranslationFilter@51326836, org.springframework.security.web.access.intercept.AuthorizationFilter@9a68aa9]
03:12:14.309 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
03:12:14.321 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
03:12:14.328 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
03:12:14.336 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
03:12:17.390 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
03:12:17.421 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
03:12:17.442 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

04:00:00.008 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - [Scheduler] Актуализация всех не обработанных платежей (PENDING/FAILED)
04:00:00.013 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
04:00:00.016 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
04:00:00.128 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4ae31f3f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
04:00:00.216 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2c1788bf (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
04:00:00.307 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3906b480 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
04:00:00.396 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6b4e4e78 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
04:00:00.484 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@77fb7d66 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
04:00:01.403 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
04:00:01.404 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
04:00:01.407 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК СИНХРОНИЗАЦИИ СТАТУСОВ АВТОМОБИЛЕЙ ===
04:00:01.498 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
04:00:01.598 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
04:00:01.691 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
04:00:01.789 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
04:00:01.880 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
04:00:01.976 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
04:00:02.245 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Синхронизация статусов автомобилей завершена успешно
12:20:00.868 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8h10m10s777ms756µs700ns).
12:21:42.051 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:42.054 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:42.146 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:42.239 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:42.338 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:42.432 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:42.528 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:42.706 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК СИНХРОНИЗАЦИИ СТАТУСОВ АВТОМОБИЛЕЙ ===
12:21:42.800 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
12:21:42.898 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
12:21:42.989 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:43.083 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
12:21:43.173 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:43.275 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
12:21:43.541 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Синхронизация статусов автомобилей завершена успешно
12:21:43.543 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - [Scheduler] Актуализация всех не обработанных платежей (PENDING/FAILED)
12:21:43.543 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
12:21:43.546 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
12:21:43.643 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
12:21:43.644 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
12:21:43.734 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:43.737 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:43.828 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:43.919 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:44.020 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:44.116 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:44.208 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:44.387 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК ПОВТОРНОЙ ОБРАБОТКИ НЕУДАЧНЫХ ПЛАТЕЖЕЙ ===
12:21:44.387 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Повторная обработка платежей за дату: 2025-06-26
12:21:44.475 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Обработка ежедневных платежей для даты: 2025-06-26
12:21:44.478 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    join
        rentals r1_0 
            on r1_0.id=dp1_0.rental_id 
    where
        r1_0.status='ACTIVE' 
        and dp1_0.payment_date=? 
        and dp1_0.status='PENDING'
12:21:44.743 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Повторная обработка неудачных платежей завершена успешно
12:21:44.832 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:44.835 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:44.926 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:45.021 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:45.117 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:45.208 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:45.297 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:45.563 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:45.569 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:45.661 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:45.753 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:45.846 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:45.942 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:46.035 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:46.301 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:46.304 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:46.393 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:46.484 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:46.582 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:46.675 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:46.765 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:47.031 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:47.033 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:47.123 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:47.219 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:47.327 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:47.419 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:47.524 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:47.791 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:47.793 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:47.883 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:47.974 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:48.073 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:48.164 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:48.255 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:48.520 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:48.522 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:48.611 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:48.702 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:48.794 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:48.890 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:48.979 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
12:21:49.157 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК ДИАГНОСТИКИ ПЛАТЕЖЕЙ ===
12:21:49.157 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === ДЕТАЛЬНАЯ ДИАГНОСТИКА ВСЕХ ПЛАТЕЖЕЙ ===
12:21:49.338 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0
12:21:49.428 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        accounts a1_0 
    join
        users u1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        a1_0.id=?
12:21:49.520 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
12:21:49.620 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        ri1_0.id,
        ri1_0.available_quantity,
        c2_0.id,
        c2_0.created_at,
        c2_0.description,
        c2_0.image,
        c2_0.name,
        c2_0.updated_at,
        ri1_0.created_at,
        ri1_0.deposit,
        ri1_0.description,
        ri1_0.image,
        ri1_0.is_promotional,
        ri1_0.name,
        ri1_0.price_per_day,
        ri1_0.updated_at,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id,
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r2_0.user_id,
        r2_1.id,
        r2_1.name 
    from
        rentals r1_0 
    left join
        cars c1_0 
            on c1_0.id=r1_0.car_id 
    left join
        rental_items ri1_0 
            on ri1_0.id=r1_0.item_id 
    left join
        categories c2_0 
            on c2_0.id=ri1_0.category_id 
    join
        users u1_0 
            on u1_0.id=r1_0.user_id 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r2_0 
            on u1_0.id=r2_0.user_id 
    left join
        roles r2_1 
            on r2_1.id=r2_0.role_id 
    where
        r1_0.id=?
12:21:49.978 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Всего платежей в системе: 3
12:21:49.978 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Распределение по статусам:
12:21:49.978 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
12:21:49.979 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   PROCESSED: 3
12:21:49.979 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
12:21:49.979 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   CANCELLED: 0
12:21:49.980 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='PENDING' 
        and dp1_0.payment_date<?
12:21:50.072 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        count(dp1_0.id) 
    from
        daily_payments dp1_0 
    where
        dp1_0.status='FAILED' 
        and dp1_0.payment_date<?
12:21:50.164 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Просроченные платежи (до 2025-06-27):
12:21:50.166 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   PENDING: 0
12:21:50.166 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   FAILED: 0
12:21:50.167 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Платежи с превышением кредитного лимита:
12:21:50.167 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Все FAILED платежи:
12:21:50.167 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Платежи за последние 7 дней:
12:21:50.168 [scheduling-1] INFO  r.a.a.service.DailyPaymentService -   2025-06-25: 1 платежей (PENDING: 0, PROCESSED: 1, FAILED: 0)
12:21:50.168 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === КОНЕЦ ДИАГНОСТИКИ ===
12:21:50.168 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Диагностика платежей завершена успешно
12:21:50.257 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Запуск проверки статусов автомобилей
12:21:50.258 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:50.349 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0 
    where
        c1_0.id=?
12:21:50.439 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
12:21:50.537 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=?
12:21:50.629 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
12:21:50.717 [scheduling-1] INFO  r.a.autorent.config.DataInitializer - Обновлены статусы 0 автомобилей
13:00:00.006 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - [Scheduler] Актуализация всех не обработанных платежей (PENDING/FAILED)
13:00:00.007 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - === НАЧАЛО ОБРАБОТКИ ВСЕХ НЕОБРАБОТАННЫХ ПЛАТЕЖЕЙ ===
13:00:00.010 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        dp1_0.id,
        dp1_0.account_id,
        dp1_0.amount,
        dp1_0.created_at,
        dp1_0.notes,
        dp1_0.payment_date,
        dp1_0.processed_at,
        dp1_0.rental_id,
        dp1_0.status 
    from
        daily_payments dp1_0 
    where
        dp1_0.status in ('PENDING', 'FAILED') 
        and dp1_0.payment_date<=? 
    order by
        dp1_0.payment_date
13:00:00.099 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@508c633f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
13:00:00.192 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@683b5d96 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
13:00:00.290 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@16f08eb7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
13:00:00.380 [scheduling-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@25d682cd (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
13:00:00.564 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Найдено 0 необработанных платежей до даты 2025-06-26
13:00:00.565 [scheduling-1] INFO  r.a.a.service.DailyPaymentService - Нет необработанных платежей для обработки
13:00:00.565 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - === ЗАПУСК СИНХРОНИЗАЦИИ СТАТУСОВ АВТОМОБИЛЕЙ ===
13:00:00.662 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.end_date<?
13:00:00.758 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.status=? 
        and r1_0.start_date between ? and ?
13:00:00.858 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.available,
        c1_0.brand,
        c1_0.category,
        c1_0.color,
        c1_0.daily_rate,
        c1_0.description,
        c1_0.fuel_type,
        c1_0.license_plate,
        c1_0.model,
        c1_0.price_per_day,
        c1_0.registration_number,
        c1_0.schedule,
        c1_0.seats,
        c1_0.status,
        c1_0.transmission,
        c1_0.year 
    from
        cars c1_0
13:00:00.955 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
13:00:01.052 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        a1_0.id,
        a1_0.account_number,
        a1_0.allow_negative_balance,
        a1_0.balance,
        a1_0.credit_limit,
        a1_0.initial_balance,
        a1_0.max_rental_amount,
        a1_0.max_rental_duration,
        a1_0.user_id,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_login_date,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone,
        u1_0.registration_date,
        r1_0.user_id,
        r1_1.id,
        r1_1.name 
    from
        users u1_0 
    left join
        accounts a1_0 
            on u1_0.id=a1_0.user_id 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    left join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        u1_0.id=?
13:00:01.155 [scheduling-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.actual_return_date,
        r1_0.cancel_reason,
        r1_0.car_id,
        r1_0.comment,
        r1_0.created_at,
        r1_0.end_date,
        r1_0.notes,
        r1_0.rating,
        r1_0.item_id,
        r1_0.start_date,
        r1_0.status,
        r1_0.total_cost,
        r1_0.updated_at,
        r1_0.user_id 
    from
        rentals r1_0 
    where
        r1_0.car_id=? 
        and r1_0.status in (?, ?)
13:00:01.433 [scheduling-1] INFO  r.a.autorent.config.ScheduledTasks - Синхронизация статусов автомобилей завершена успешно
